<!DOCTYPE html>
<html lang="zh" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="whitepure" />
	
	
	
	<title>Java语法糖 ｜ 唯手熟尔</title>
	
    
    
    <meta name="description" content="原文地址：https://www.jianshu.com/p/0f967298a5d7 语法糖 语法糖（Syntactic Sugar），也称糖衣语法，是由英国计算机" />
    

    
    
    <meta name="keywords" content="whitepure博客, whiteppure, whitepure, 李济芝, Java, 博客, 技术博客" />
    

	

    <link rel="shortcut icon" href="https://whiteppure.github.io/iblog/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/normalize.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/highlight.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/toc.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://whiteppure.github.io/iblog/css/search.css" />

    
    
</head>

<body>
    <div class="post-password">
        
    </div>

    
    
    









<div id="post_content_toc" class="toc">
    <div class="page-header"><strong></strong></div>
    <div id="page-scrollspy" class="toc-nav">

        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e8%af%ad%e6%b3%95%e7%b3%96">
                    语法糖
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e8%a7%a3%e8%af%ad%e6%b3%95%e7%b3%96">
                    解语法糖
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#switch-%e6%94%af%e6%8c%81-string-%e4%b8%8e%e6%9e%9a%e4%b8%be">
                    switch 支持 String 与枚举
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%b3%9b%e5%9e%8b">
                    泛型
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e8%87%aa%e5%8a%a8%e8%a3%85%e7%ae%b1%e4%b8%8e%e6%8b%86%e7%ae%b1">
                    自动装箱与拆箱
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%96%b9%e6%b3%95%e5%8f%98%e9%95%bf%e5%8f%82%e6%95%b0">
                    方法变长参数
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%9e%9a%e4%b8%be">
                    枚举
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e5%86%85%e9%83%a8%e7%b1%bb">
                    内部类
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%96%ad%e8%a8%80">
                    断言
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%95%b0%e5%80%bc%e5%ad%97%e9%9d%a2%e9%87%8f">
                    数值字面量
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#for-each">
                    for-each
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#try-with-resource">
                    try-with-resource
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#lambda%e8%a1%a8%e8%be%be%e5%bc%8f">
                    Lambda表达式
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e5%8f%af%e8%83%bd%e9%81%87%e5%88%b0%e7%9a%84%e5%9d%91">
                    可能遇到的坑
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%b3%9b%e5%9e%8b%e5%bd%93%e6%b3%9b%e5%9e%8b%e9%81%87%e5%88%b0%e9%87%8d%e8%bd%bd">
                    泛型——当泛型遇到重载
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%b3%9b%e5%9e%8b%e5%bd%93%e6%b3%9b%e5%9e%8b%e9%81%87%e5%88%b0catch">
                    泛型——当泛型遇到catch
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e8%87%aa%e5%8a%a8%e8%a3%85%e7%ae%b1%e4%b8%8e%e6%8b%86%e7%ae%b1%e5%af%b9%e8%b1%a1%e7%9b%b8%e7%ad%89%e6%af%94%e8%be%83">
                    自动装箱与拆箱——对象相等比较
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e5%a2%9e%e5%bc%bafor%e5%be%aa%e7%8e%af">
                    增强for循环
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        
        
        
        
        
        
        <ul class="nav">
            
        <ul class="nav">
            
        <ul class="nav">
            
            
            <li class="nav-item">
                <a class="nav-link text-left" href="#%e6%80%bb%e7%bb%93">
                    总结
                </a>
            </li>
            
            
        </ul>
        
        </ul>
        
        </ul>
        
        
        
        

    </div>

</div>



    

    
    <div class="main animate__animated animate__fadeInDown" id="main_content">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul><li class="">
                <a href="https://whiteppure.github.io/iblog/">首页</a>
            </li><li class="">
                <a href="https://whiteppure.github.io/iblog/posts/">归档</a>
            </li><li class="">
                <a href="https://whiteppure.github.io/iblog/tags/">标签</a>
            </li><li class="">
                <a href="https://whiteppure.github.io/iblog/about/">关于</a>
            </li>
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div id="post_header" class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://whiteppure.github.io/iblog/">
                    <span>唯手熟尔</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">
                
            </p>

            
            <div class="my_socials">
                
                    
                    <a href="https://github.com/whiteppure/" title="github" target="_blank">
                        <i class="ri-github-fill"></i>
                    </a>
                    
                
                <a href="https://whiteppure.github.io/iblog/index.xml" type="application/rss+xml" title="rss" target="_blank">
                    <i class="ri-rss-fill"></i>
                </a>
                
                
                <span id="sys_function" class="sys_function display_none">
                    <a id="export_pdf"  title="导出pdf" style="border: none; background-color: #ffffff; cursor: pointer; margin-left: 10px">
                        <svg t="1688701481347" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3517" width="16" height="16"><path d="M425.610455 85.814544H149.05897A42.303635 42.303635 0 0 0 106.6274 128.075535V896.492068c0 23.326702 18.976933 42.26099 42.43157 42.26099h682.743143a42.559504 42.559504 0 0 0 42.431569-42.559504v-384.016365a42.644793 42.644793 0 0 1 85.289587 0v384.016365A127.849091 127.849091 0 0 1 831.802113 1024H149.05897A127.635867 127.635867 0 0 1 21.337813 896.449423V128.03289A127.593222 127.593222 0 0 1 149.101614 0.524957h276.466196a42.644793 42.644793 0 0 1 0 85.289587z m564.062683 158.08425l-170.579174 170.579173a42.644793 42.644793 0 1 1-60.299738-60.299738L856.578738 256.393718H618.364922a42.644793 42.644793 0 1 1 0-85.289587h238.213816l-97.784512-97.784511A42.644793 42.644793 0 1 1 819.093964 13.019882l170.579174 170.579174a42.644793 42.644793 0 0 1 0 60.299738zM149.272194 597.552066a42.644793 42.644793 0 0 1 42.644793-42.644794h51.514911c59.190973 0 107.891327 23.284057 107.976617 97.102195 0 71.003581-49.46796 102.347504-106.185536 102.347504h-31.343923v66.781747a32.282109 32.282109 0 0 1-64.606862 0V597.552066z m92.709781 100.215264c31.429213 0 46.568114-16.46089 46.568114-45.757863 0-30.064579-17.313786-40.512554-48.359196-40.512554h-26.311837v86.270417h28.145563z m232.414124-142.860058c81.878003 0 136.036891 43.710913 136.036891 147.67892S556.231457 853.420826 477.935617 853.420826h-38.16709a42.644793 42.644793 0 0 1-42.644794-42.644793v-213.223967a42.644793 42.644793 0 0 1 42.644794-42.644794h34.542282z m-4.008611 240.729859c43.32711 0 73.988717-22.047358 73.988717-93.050939 0-71.046226-30.704251-90.705476-73.988717-90.705476h-8.699538v183.79906h8.699538zM692.481573 853.420826a32.282109 32.282109 0 0 1-32.282109-32.282108V597.552066a42.644793 42.644793 0 0 1 42.644793-42.644794h99.063855a29.680776 29.680776 0 1 1 0 59.404197h-77.144431v65.374469h61.749661a29.894 29.894 0 1 1 0 59.788h-61.749661v81.66478a32.282109 32.282109 0 0 1-32.282108 32.282108z" fill="#5f5f5f" p-id="3518"></path></svg>
                    </a>
                    <a id="export_pic" title="导出图片" style="border: none; background-color: #ffffff; cursor: pointer; margin-left: 10px">
                        <svg t="1689071509720" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4564" width="16" height="16"><path d="M909.132886 0.037506h-184.960611a33.909445 33.909445 0 0 0-32.368107 33.909445 33.909445 33.909445 0 0 0 33.909445 33.395666h158.244078l-200.373995 199.346437a33.395666 33.395666 0 0 0 0 47.781491 31.854327 31.854327 0 0 0 23.633856 9.76181 33.909445 33.909445 0 0 0 24.147635-9.76181l198.832657-199.346437V272.340628a33.909445 33.909445 0 0 0 69.874009 0V88.921355A88.37007 88.37007 0 0 0 909.132886 0.037506zM216.558153 347.866211a107.37991 107.37991 0 1 0 107.37991-107.379911 107.89369 107.89369 0 0 0-107.37991 107.379911z m154.133843 0a51.377948 51.377948 0 0 1-97.618101 0 51.377948 51.377948 0 1 1 97.618101 0z" p-id="4565" fill="#424242"></path><path d="M963.079731 437.777619a34.423225 34.423225 0 0 0-33.909446 33.909445v265.110209a1811.07265 1811.07265 0 0 0-137.692899-193.181082 106.352351 106.352351 0 0 0-78.60826-36.478343 123.820854 123.820854 0 0 0-82.204716 35.964563l-3.596456 3.082677-188.557068 176.74014c-11.816928-13.358266-47.781491-51.377948-82.204716-87.856291a83.232275 83.232275 0 0 0-85.801172-21.578738 105.324792 105.324792 0 0 0-38.019681 19.52362l-141.289356 121.765736V89.948914a22.092517 22.092517 0 0 1 22.606297-22.606297h417.702713a33.395666 33.395666 0 0 0 33.395666-33.909445 33.395666 33.395666 0 0 0-33.395666-33.395666H113.802258A89.911408 89.911408 0 0 0 23.89085 89.948914v844.139678a89.911408 89.911408 0 0 0 89.911408 89.911408h793.27551a89.911408 89.911408 0 0 0 89.397629-89.911408v-462.401528a33.909445 33.909445 0 0 0-33.395666-33.909445z m-33.909446 496.310973a22.606297 22.606297 0 0 1-22.092517 22.606297H113.802258a22.606297 22.606297 0 0 1-22.606297-22.606297v-88.37007l183.933052-160.812976a43.157476 43.157476 0 0 1 15.413385-7.192912 15.927164 15.927164 0 0 1 17.982281 5.137794c37.505902 36.478343 78.60826 83.232275 82.718496 87.856291a61.653537 61.653537 0 0 0 42.643696 22.092517 62.681096 62.681096 0 0 0 51.377948-20.037399c8.220472-8.220472 134.610223-125.875971 194.208641-181.877935a57.029522 57.029522 0 0 1 34.423225-16.440943 45.212594 45.212594 0 0 1 29.79921 15.927164 2954.231982 2954.231982 0 0 1 186.501949 256.889738z" p-id="4566" fill="#424242"></path></svg>
                    </a>
                    <a id="export_markdown" title="导出markdown" style="border: none; background-color: #ffffff; cursor: pointer; margin-left: 10px">
                        <svg t="1689071035200" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13570" width="16" height="16"><path d="M178.073367 843.957262V461.158929h107.121045l107.121045 140.734874 107.125433-140.734874h107.116657v382.798333h-107.116657v-219.54307l-107.125433 140.730486-107.116657-140.730486v219.54307zM737.783131 892.148786l-131.221196-209.156132h87.479334V461.158929h87.479335v221.833725h87.483722z" p-id="13571" fill="#424242"></path><path d="M911.9958 217.142709c10.672172 10.663395 19.812851 25.144549 27.430816 43.430297 7.617965 18.285748 11.431335 35.044392 11.431336 50.28471V969.140255c0 15.235929-5.336086 28.18998-15.999481 38.853375-10.667783 10.667783-23.621834 16.003869-38.857763 16.003869H127.994904c-15.240317 0-28.18998-5.336086-38.857763-16.003869-10.663395-10.663395-15.999481-23.617446-15.999481-38.853375V54.852856c0-15.240317 5.331698-28.18998 15.999481-38.857763C99.804925 5.336086 112.758975 0 127.999292 0h512.000944c15.235929 0 31.998962 3.808982 50.28471 11.426947 18.285748 7.622353 32.762514 16.763033 43.430297 27.426428zM658.290372 77.715526v214.856442h214.856442c-3.808982-11.049559-7.99974-18.856218-12.572275-23.43314l-178.855415-178.851027c-4.572534-4.572534-12.383581-8.763292-23.43314-12.572275z m219.428976 873.143369V365.71496h-237.714724c-15.240317 0-28.18998-5.336086-38.857763-15.999481-10.663395-10.667783-15.999481-23.621834-15.999481-38.857763V73.142992H146.28504v877.715903z" p-id="13572" fill="#424242"></path></svg>
                    </a>
                    <a id="export_doc" title="导出文档" style="border: none; background-color: #ffffff; cursor: pointer; margin-left: 10px">
                        <svg t="1689246982401" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6825" width="16" height="16"><path d="M270.76864 608.32h180.8a31.68 31.68 0 0 0 0-62.976H270.76864a31.68 31.68 0 0 0 0 62.976zM271.34464 458.56h457.92a33.472 33.472 0 0 0 31.552-34.752 33.28 33.28 0 0 0-31.552-34.624H271.34464a34.816 34.816 0 0 0 0 69.376zM271.34464 293.504h457.92a33.344 33.344 0 0 0 31.552-34.688 33.216 33.216 0 0 0-31.552-34.624H271.34464a33.28 33.28 0 0 0-31.616 34.624 33.28 33.28 0 0 0 31.616 34.688z" p-id="6826" fill="#424242"></path><path d="M869.87264 0H153.77664A70.4 70.4 0 0 0 84.65664 70.912V953.6A69.952 69.952 0 0 0 153.77664 1024h370.048a32 32 0 0 0 0-63.68H147.12064V64h729.6v468.672a31.296 31.296 0 1 0 62.528 0V70.912A70.4 70.4 0 0 0 869.87264 0z" p-id="6827" fill="#424242"></path><path d="M482.16064 730.624h337.664L715.82464 625.216a28.864 28.864 0 0 1-7.936-28.736 29.184 29.184 0 0 1 20.608-21.184 29.632 29.632 0 0 1 29.12 8.128l174.784 177.216-174.784 176.96a29.184 29.184 0 0 1-49.728-13.312 29.248 29.248 0 0 1 8-28.8l103.936-105.344H482.16064a29.696 29.696 0 0 1-29.504-29.76 29.632 29.632 0 0 1 29.504-29.76z" p-id="6828" fill="#424242"></path></svg>
                    </a>
                </span>
                <a  id="icon_more" title="更多" >
                    <svg t="1688715321313" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5356" width="16" height="16"><path d="M483.555556 199.111111m-85.333334 0a85.333333 85.333333 0 1 0 170.666667 0 85.333333 85.333333 0 1 0-170.666667 0Z" fill="#424242" p-id="5357"></path><path d="M483.555556 540.444444m-85.333334 0a85.333333 85.333333 0 1 0 170.666667 0 85.333333 85.333333 0 1 0-170.666667 0Z" fill="#424242" p-id="5358"></path><path d="M483.555556 881.777778m-85.333334 0a85.333333 85.333333 0 1 0 170.666667 0 85.333333 85.333333 0 1 0-170.666667 0Z" fill="#424242" p-id="5359"></path></svg>
                </a>
                <a  id="icon_less" class="display_none">
                    <svg t="1688723160472" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15872" width="16" height="16"><path d="M300.105143 592.676571h423.789714a80.676571 80.676571 0 1 0 0-161.353142H300.105143a80.676571 80.676571 0 0 0 0 161.353142z" fill="#8a8a8a" p-id="15873"></path></svg>
                </a>
                
            </div>

            
            <div class="post">
                <div class="post_title post_detail_title">
                    <span class="date" id="busuanzi_container_site_pv">访问量 <span id="busuanzi_value_site_pv"></span>次</span>
                </div>
                <div class="post_title post_detail_title">
                    <span class="date" id="busuanzi_container_site_uv">访客数 <span id="busuanzi_value_site_uv"></span>人</span>
                </div>
            </div>
            
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2 id="post_single_title">Java语法糖</h2>
                        <span id="post_page_title_date" class="date">2021.04.10</span>
                    </div>
                    <div class="post_content markdown"><p>原文地址：<a href="https://www.jianshu.com/p/0f967298a5d7">https://www.jianshu.com/p/0f967298a5d7</a></p>
<h2 id="语法糖">语法糖</h2>
<p>语法糖（<code>Syntactic Sugar</code>），也称糖衣语法，是由英国计算机学家 <code>Peter.J.Landin</code> 发明的一个术语，指在计算机语言中添加的某种语法，
这种语法对语言的功能并没有影响，但是更方便程序员使用。简而言之，语法糖让程序更加简洁，有更高的可读性。</p>
<blockquote>
<p>在编程领域，除了语法糖，还有语法盐和语法糖精的说法，篇幅有限这里不做扩展了。
我们所熟知的编程语言中几乎都有语法糖。作者认为，语法糖的多少是评判一个语言够不够牛逼的标准之一。</p>
</blockquote>
<p>很多人说Java是一个“低糖语言”，其实从Java 7开始Java语言层面上一直在添加各种糖，
主要是在“Project Coin”项目下研发。尽管现在Java有人还是认为现在的Java是低糖，未来还会持续向着“高糖”的方向发展。</p>
<h3 id="解语法糖">解语法糖</h3>
<p>前面提到过，语法糖的存在主要是方便开发人员使用。但其实，Java虚拟机并不支持这些语法糖。这些语法糖在编译阶段就会被还原成简单的基础语法结构，这个过程就是解语法糖。</p>
<p>说到编译，大家肯定都知道，Java语言中，javac命令可以将后缀名为.java的源文件编译为后缀名为.class的可以运行于Java虚拟机的字节码。</p>
<p>如果你去看<code>com.sun.tools.javac.main.JavaCompiler</code>的源码，你会发现在<code>compile()</code>中有一个步骤就是调用<code>desugar()</code>，这个方法就是负责解语法糖的实现的。</p>
<p>Java 中最常用的语法糖主要有泛型、变长参数、条件编译、自动拆装箱、内部类等。本文主要来分析下这些语法糖背后的原理。一步一步剥去糖衣，看看其本质。</p>
<h4 id="switch-支持-string-与枚举">switch 支持 String 与枚举</h4>
<p>前面提到过，从Java 7 开始，Java语言中的语法糖在逐渐丰富，其中一个比较重要的就是Java 7中switch开始支持String。</p>
<p>在开始coding之前先科普下，Java中的swith自身原本就支持基本类型。比如int、char等。</p>
<p>对于int类型，直接进行数值的比较。对于char类型则是比较其ascii码。</p>
<p>所以，对于编译器来说，switch中其实只能使用整型，任何类型的比较都要转换成整型。比如<code>byte。short，char</code>(ackii码是整型)以及int。</p>
<p>那么接下来看下switch对String得支持，有以下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class switchDemoString {
</span></span><span class="line"><span class="cl">    public static void main(String[] args) {
</span></span><span class="line"><span class="cl">        String str = &#34;world&#34;;
</span></span><span class="line"><span class="cl">        switch (str) {
</span></span><span class="line"><span class="cl">            case &#34;hello&#34;:
</span></span><span class="line"><span class="cl">                        System.out.println(&#34;hello&#34;);
</span></span><span class="line"><span class="cl">            break;
</span></span><span class="line"><span class="cl">            case &#34;world&#34;:
</span></span><span class="line"><span class="cl">                        System.out.println(&#34;world&#34;);
</span></span><span class="line"><span class="cl">            break;
</span></span><span class="line"><span class="cl">            default:
</span></span><span class="line"><span class="cl">                        break;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class switchDemoString
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    public switchDemoString()
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    public static void main(String args[])
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">        String str = &#34;world&#34;;
</span></span><span class="line"><span class="cl">        String s;
</span></span><span class="line"><span class="cl">        switch((s = str).hashCode())
</span></span><span class="line"><span class="cl">                {
</span></span><span class="line"><span class="cl">            default:
</span></span><span class="line"><span class="cl">                        break;
</span></span><span class="line"><span class="cl">            case 99162322:
</span></span><span class="line"><span class="cl">                        if(s.equals(&#34;hello&#34;))
</span></span><span class="line"><span class="cl">                            System.out.println(&#34;hello&#34;);
</span></span><span class="line"><span class="cl">            break;
</span></span><span class="line"><span class="cl">            case 113318802:
</span></span><span class="line"><span class="cl">                        if(s.equals(&#34;world&#34;))
</span></span><span class="line"><span class="cl">                            System.out.println(&#34;world&#34;);
</span></span><span class="line"><span class="cl">            break;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>看到这个代码，你知道原来字符串的switch是通过equals()和hashCode()方法来实现的。还好hashCode()方法返回的是int，而不是long。</p>
<blockquote>
<p>仔细看下可以发现，进行switch的实际是哈希值，然后通过使用equals方法比较进行安全检查，这个检查是必要的，
因为哈希可能会发生碰撞。因此它的性能是不如使用枚举进行switch或者使用纯整数常量，但这也不是很差。</p>
</blockquote>
<h4 id="泛型">泛型</h4>
<p>我们都知道，很多语言都是支持泛型的，但是很多人不知道的是，不同的编译器对于泛型的处理方式是不同的。</p>
<p>通常情况下，一个编译器处理泛型有两种方式：<code>Code specialization</code>和<code>Code sharing</code>。</p>
<p>C++和C#是使用<code>Code specialization</code>的处理机制，而Java使用的是<code>Code sharing</code>的机制。</p>
<blockquote>
<p>Code sharing方式为每个泛型类型创建唯一的字节码表示，并且将该泛型类型的实例都映射到这个唯一的字节码表示上。将多种泛型类形实例映射到唯一的字节码表示是通过类型擦除（type erasue）实现的。
也就是说，对于Java虚拟机来说，他根本不认识Map&lt;String, String&gt; map这样的语法。需要在编译阶段通过类型擦除的方式进行解语法糖。</p>
</blockquote>
<p>类型擦除的主要过程如下：</p>
<ul>
<li>将所有的泛型参数用其最左边界（最顶级的父类型）类型替换。</li>
<li>移除所有的类型参数。</li>
</ul>
<p>以下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();  
</span></span><span class="line"><span class="cl">map.put(&#34;name&#34;, &#34;suxiansheng&#34;);  
</span></span><span class="line"><span class="cl">map.put(&#34;wechat&#34;, &#34;java&#34;);  
</span></span><span class="line"><span class="cl">map.put(&#34;blog&#34;, &#34;https://www.jianshu.com/u/94111742c97c&#34;);  
</span></span></code></pre></div><p>解语法糖之后会变成：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Map map = new HashMap();  
</span></span><span class="line"><span class="cl">map.put(&#34;name&#34;, &#34;suxiansheng&#34;);  
</span></span><span class="line"><span class="cl">map.put(&#34;wechat&#34;, &#34;Java&#34;);  
</span></span><span class="line"><span class="cl">map.put(&#34;blog&#34;, &#34;https://www.jianshu.com/u/94111742c97c&#34;);  
</span></span></code></pre></div><p>以下代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="k">static</span> <span class="o">&lt;</span><span class="n">A</span> <span class="k">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;&gt;</span> <span class="n">A</span> <span class="nb">max</span><span class="p">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="n">xs</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span> <span class="n">xi</span> <span class="o">=</span> <span class="n">xs</span><span class="o">.</span><span class="n">iterator</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">A</span> <span class="n">w</span> <span class="o">=</span> <span class="n">xi</span><span class="o">.</span><span class="n">next</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="p">(</span><span class="n">xi</span><span class="o">.</span><span class="n">hasNext</span><span class="p">())</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">A</span> <span class="n">x</span> <span class="o">=</span> <span class="n">xi</span><span class="o">.</span><span class="n">next</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">compareTo</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">w</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">w</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>类型擦除后会变成：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> public static Comparable max(Collection xs){
</span></span><span class="line"><span class="cl">    Iterator xi = xs.iterator();
</span></span><span class="line"><span class="cl">    Comparable w = (Comparable)xi.next();
</span></span><span class="line"><span class="cl">    while(xi.hasNext())
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        Comparable x = (Comparable)xi.next();
</span></span><span class="line"><span class="cl">        if(w.compareTo(x) &lt; 0)
</span></span><span class="line"><span class="cl">            w = x;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    return w;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>虚拟机中没有泛型，只有普通类和普通方法，所有泛型类的类型参数在编译时都会被擦除，泛型类并没有自己独有的Class类对象。
比如并不存在<code>List&lt;String&gt;.class</code>或是<code>List&lt;Integer&gt;.class</code>，而只有<code>List.class</code>。</p>
<h4 id="自动装箱与拆箱">自动装箱与拆箱</h4>
<p>自动装箱就是Java自动将原始类型值转换成对应的对象，比如将int的变量转换成Integer对象，这个过程叫做装箱，反之将Integer对象转换成int类型值，这个过程叫做拆箱。参考：一文读懂什么是Java中的自动拆装箱</p>
<p>因为这里的装箱和拆箱是自动进行的非人为转换，所以就称作为自动装箱和拆箱。</p>
<p>原始类型<code>byte, short, char, int, long, float, double，boolean</code> 对应的封装类为<code>Byte, Short, Character, Integer, Long, Float, Double, Boolean</code>。</p>
<p>先来看个自动装箱的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> public static void main(String[] args) {
</span></span><span class="line"><span class="cl">    int i = 10;
</span></span><span class="line"><span class="cl">    Integer n = i;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String args[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    int i = 10;
</span></span><span class="line"><span class="cl">    Integer n = Integer.valueOf(i);
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>再来看个自动拆箱的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String[] args) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    Integer i = 10;
</span></span><span class="line"><span class="cl">    int n = i;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String args[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    Integer i = Integer.valueOf(10);
</span></span><span class="line"><span class="cl">    int n = i.intValue();
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>从反编译得到内容可以看出，在装箱的时候自动调用的是Integer的valueOf(int)方法。
而在拆箱的时候自动调用的是Integer的intValue方法。
所以，装箱过程是通过调用包装器的valueOf方法实现的，而拆箱过程是通过调用包装器的 xxxValue方法实现的。</p>
<h4 id="方法变长参数">方法变长参数</h4>
<p>可变参数(variable arguments)是在Java 1.5中引入的一个特性。它允许一个方法把任意数量的值作为参数。</p>
<p>看下以下可变参数代码，其中print方法接收可变参数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String[] args)
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        print(&#34;java&#34;, &#34;123&#34;, &#34;456&#34;, &#34;789&#34;);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">public static void print(String... strs)
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    for (int i = 0; i &lt; strs.length; i++)
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        System.out.println(strs[i]);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String args[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    print(new String[] {
</span></span><span class="line"><span class="cl">        &#34;java&#34;, &#34;123&#34;, &#34;456&#34;, &#34;789&#34;
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">public static transient void print(String strs[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    for(int i = 0; i &lt; strs.length; i++)
</span></span><span class="line"><span class="cl">        System.out.println(strs[i]);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>从反编译后代码可以看出，可变参数在被使用的时候，他首先会创建一个数组，数组的长度就是调用该方法是传递的实参的个数，
然后再把参数值全部放到这个数组当中，然后再把这个数组作为参数传递到被调用的方法中。</p>
<h4 id="枚举">枚举</h4>
<p>Java SE5提供了一种新的类型-Java的枚举类型，关键字enum可以将一组具名的值的有限集合创建为一种新的类型，而这些具名的值可以作为常规的程序组件使用，这是一种非常有用的功能。</p>
<p>要想看源码，首先得有一个类吧，那么枚举类型到底是什么类呢？是enum吗？</p>
<p>答案很明显不是，enum就和class一样，只是一个关键字，他并不是一个类。</p>
<p>那么枚举是由什么类维护的呢，我们简单的写一个枚举：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="k">enum</span> <span class="n">t</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">SPRING</span><span class="p">,</span><span class="n">SUMMER</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>然后我们使用反编译，看看这段代码到底是怎么实现的，反编译后代码内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="n">final</span> <span class="k">class</span> <span class="n">T</span> <span class="k">extends</span> <span class="n">Enum</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">private</span> <span class="n">T</span><span class="p">(</span><span class="ne">String</span> <span class="n">s</span><span class="p">,</span> <span class="ne">int</span> <span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">super</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="n">T</span><span class="p">[]</span> <span class="n">values</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">T</span> <span class="n">at</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl">        <span class="ne">int</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">T</span> <span class="n">at1</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="n">arraycopy</span><span class="p">(</span><span class="n">at</span> <span class="o">=</span> <span class="n">ENUM</span><span class="o">$</span><span class="n">VALUES</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">at1</span> <span class="o">=</span> <span class="n">new</span> <span class="n">T</span><span class="p">[</span><span class="n">i</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">length</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">at1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="n">T</span> <span class="n">valueOf</span><span class="p">(</span><span class="ne">String</span> <span class="n">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="n">Enum</span><span class="o">.</span><span class="n">valueOf</span><span class="p">(</span><span class="n">demo</span><span class="o">/</span><span class="n">T</span><span class="p">,</span> <span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="n">final</span> <span class="n">T</span> <span class="n">SPRING</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="n">final</span> <span class="n">T</span> <span class="n">SUMMER</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">private</span> <span class="k">static</span> <span class="n">final</span> <span class="n">T</span> <span class="n">ENUM</span><span class="o">$</span><span class="n">VALUES</span><span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="k">static</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">SPRING</span> <span class="o">=</span> <span class="n">new</span> <span class="n">T</span><span class="p">(</span><span class="s2">&#34;SPRING&#34;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">SUMMER</span> <span class="o">=</span> <span class="n">new</span> <span class="n">T</span><span class="p">(</span><span class="s2">&#34;SUMMER&#34;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">ENUM</span><span class="o">$</span><span class="n">VALUES</span> <span class="o">=</span> <span class="p">(</span><span class="n">new</span> <span class="n">T</span><span class="p">[]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">SPRING</span><span class="p">,</span> <span class="n">SUMMER</span>
</span></span><span class="line"><span class="cl">        <span class="p">});</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>通过反编译后代码我们可以看到，<code>public final class T extends Enum</code>，说明，
该类是继承了Enum类的，同时final关键字告诉我们，这个类也是不能被继承的。</p>
<p>当我们使用enmu来定义一个枚举类型的时候，编译器会自动帮我们创建一个final类型的类继承Enum类，所以枚举类型不能被继承。</p>
<h4 id="内部类">内部类</h4>
<p>内部类又称为嵌套类，可以把内部类理解为外部类的一个普通成员。</p>
<p>内部类之所以也是语法糖，是因为它仅仅是一个编译时的概念。</p>
<p><code>outer.java</code>里面定义了一个内部类inner，一旦编译成功，就会生成两个完全不同的.class文件了，
分别是<code>outer.class</code>和<code>outer$inner.class</code>。所以内部类的名字完全可以和它的外部类名字相同。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class OutterClass {
</span></span><span class="line"><span class="cl">    private String userName;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public String getUserName() {
</span></span><span class="line"><span class="cl">        return userName;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public void setUserName(String userName) {
</span></span><span class="line"><span class="cl">        this.userName = userName;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public static void main(String[] args) {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    class InnerClass{
</span></span><span class="line"><span class="cl">        private String name;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        public String getName() {
</span></span><span class="line"><span class="cl">            return name;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        public void setName(String name) {
</span></span><span class="line"><span class="cl">            this.name = name;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>以上代码编译后会生成两个class文件：<code>OutterClass$InnerClass.class 、OutterClass.class</code> 。</p>
<p>当我们尝试使用jad对<code>OutterClass.class</code>文件进行反编译的时候，命令行会打印以下内容：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Parsing OutterClass.class...
</span></span><span class="line"><span class="cl">Parsing inner class OutterClass$InnerClass.class...
</span></span><span class="line"><span class="cl">Generating OutterClass.jad
</span></span></code></pre></div><p>他会把两个文件全部进行反编译，然后一起生成一个<code>OutterClass.jad</code>文件。文件内容如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class OutterClass
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    class InnerClass
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        public String getName()
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            return name;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        public void setName(String name)
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            this.name = name;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        private String name;
</span></span><span class="line"><span class="cl">        final OutterClass this$0;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        InnerClass()
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            this.this$0 = OutterClass.this;
</span></span><span class="line"><span class="cl">            super();
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public OutterClass()
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    public String getUserName()
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        return userName;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    public void setUserName(String userName){
</span></span><span class="line"><span class="cl">        this.userName = userName;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    public static void main(String args1[])
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    private String userName;
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>七 、条件编译</p>
<p>—般情况下，程序中的每一行代码都要参加编译。
但有时候出于对程序代码优化的考虑，希望只对其中一部分内容进行编译，此时就需要在程序中加上条件，让编译器只对满足条件的代码进行编译，将不满足条件的代码舍弃，这就是条件编译。</p>
<p>如在C或CPP中，可以通过预处理语句来实现条件编译。其实在Java中也可实现条件编译。我们先来看一段代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class ConditionalCompilation {
</span></span><span class="line"><span class="cl">    public static void main(String[] args) {
</span></span><span class="line"><span class="cl">        final boolean DEBUG = true;
</span></span><span class="line"><span class="cl">        if(DEBUG) {
</span></span><span class="line"><span class="cl">            System.out.println(&#34;Java, DEBUG!&#34;);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        final boolean ONLINE = false;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        if(ONLINE){
</span></span><span class="line"><span class="cl">            System.out.println(&#34;Java, ONLINE!&#34;);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class ConditionalCompilation
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public ConditionalCompilation()
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public static void main(String args[])
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        boolean DEBUG = true;
</span></span><span class="line"><span class="cl">        System.out.println(&#34;Java, DEBUG!&#34;);
</span></span><span class="line"><span class="cl">        boolean ONLINE = false;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>首先，我们发现，在反编译后的代码中没有<code>System.out.println(&quot;Hello, ONLINE!&quot;);</code>，这其实就是条件编译。</p>
<p>当if(ONLINE)为false的时候，编译器就没有对其内的代码进行编译。
所以，Java语法的条件编译，是通过判断条件为常量的if语句实现的。根据if判断条件的真假，编译器直接把分支为false的代码块消除。
通过该方式实现的条件编译，必须在方法体内实现，而无法在正整个Java类的结构或者类的属性上进行条件编译。</p>
<p>这与C/C++的条件编译相比，确实更有局限性。在Java语言设计之初并没有引入条件编译的功能，虽有局限，但是总比没有更强。</p>
<h4 id="断言">断言</h4>
<p>在Java中，assert关键字是从JAVA SE 1.4 引入的，为了避免和老版本的Java代码中使用了assert关键字导致错误，
Java在执行的时候默认是不启动断言检查的（这个时候，所有的断言语句都将忽略！）。</p>
<p>如果要开启断言检查，则需要用开关<code>-enableassertions</code>或<code>-ea</code>来开启。</p>
<p>看一段包含断言的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class AssertTest {
</span></span><span class="line"><span class="cl">    public static void main(String args[]) {
</span></span><span class="line"><span class="cl">        int a = 1;
</span></span><span class="line"><span class="cl">        int b = 1;
</span></span><span class="line"><span class="cl">        assert a == b;
</span></span><span class="line"><span class="cl">        System.out.println(&#34;Java&#34;);
</span></span><span class="line"><span class="cl">        assert a != b : &#34;suxiansheng&#34;;
</span></span><span class="line"><span class="cl">        System.out.println(&#34;博客：https://www.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class AssertTest {
</span></span><span class="line"><span class="cl">   public AssertTest()
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    public static void main(String args[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    int a = 1;
</span></span><span class="line"><span class="cl">    int b = 1;
</span></span><span class="line"><span class="cl">    if(!$assertionsDisabled &amp;&amp; a != b)
</span></span><span class="line"><span class="cl">        throw new AssertionError();
</span></span><span class="line"><span class="cl">    System.out.println(&#34;\u516C\u4F17\u53F7\uFF1AJava&#34;);
</span></span><span class="line"><span class="cl">    if(!$assertionsDisabled &amp;&amp; a == b)
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        throw new AssertionError(&#34;Java&#34;);
</span></span><span class="line"><span class="cl">    } else
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        System.out.println(&#34;\u535A\u5BA2\uFF1Awww.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">        return;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">static final boolean $assertionsDisabled = !com/hollis/suguar/AssertTest.desiredAssertionStatus();
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>很明显，反编译之后的代码要比我们自己的代码复杂的多。所以，使用了assert这个语法糖我们节省了很多代码。</p>
<p>其实断言的底层实现就是if语言，如果断言结果为true，则什么都不做，程序继续执行，如果断言结果为false，则程序抛出AssertError来打断程序的执行。</p>
<h4 id="数值字面量">数值字面量</h4>
<p>在java 7中，数值字面量，不管是整数还是浮点数，都允许在数字之间插入任意多个下划线。这些下划线不会对字面量的数值产生影响，目的就是方便阅读。</p>
<p>比如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class Test {
</span></span><span class="line"><span class="cl">    public static void main(String... args) {
</span></span><span class="line"><span class="cl">        int i = 10_000;
</span></span><span class="line"><span class="cl">        System.out.println(i);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class Test
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  public static void main(String[] args)
</span></span><span class="line"><span class="cl">  {
</span></span><span class="line"><span class="cl">    int i = 10000;
</span></span><span class="line"><span class="cl">    System.out.println(i);
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后就是把删除了。也就是说<strong>编译器并不认识在数字字面量中的，需要在编译阶段把他去掉</strong>。</p>
<h4 id="for-each">for-each</h4>
<p>增强for循环（for-each）相信大家都不陌生，日常开发经常会用到的，他会比for循环要少写很多代码，那么这个语法糖背后是如何实现的呢？</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String... args) {
</span></span><span class="line"><span class="cl">    String[] strs = {&#34;suxiansehng&#34;, &#34;Java&#34;, &#34;博客：www.jianshu.com/u/94111742c97c&#34;};
</span></span><span class="line"><span class="cl">    for (String s : strs) {
</span></span><span class="line"><span class="cl">        System.out.println(s);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    List&lt;String&gt; strList = ImmutableList.of(&#34;suxiansheng&#34;, &#34;java&#34;, &#34;博客：www.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">    for (String s : strList) {
</span></span><span class="line"><span class="cl">        System.out.println(s);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static transient void main(String args[])
</span></span><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">    String strs[] = {
</span></span><span class="line"><span class="cl">        &#34;suxiansheng&#34;, &#34;\u516C\u4F17\u53F7\uFF1AJava&#34;, &#34;\u535A\u5BA2\uFF1Awww.jianshu.com/u/94111742c97c&#34;
</span></span><span class="line"><span class="cl">    };
</span></span><span class="line"><span class="cl">    String args1[] = strs;
</span></span><span class="line"><span class="cl">    int i = args1.length;
</span></span><span class="line"><span class="cl">    for(int j = 0; j &lt; i; j++)
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        String s = args1[j];
</span></span><span class="line"><span class="cl">        System.out.println(s);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    List strList = ImmutableList.of(&#34;suxiansheng&#34;, &#34;\u516C\u4F17\u53F7\uFF1AJava&#34;, &#34;\u535A\u5BA2\uFF1Awww.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">    String s;
</span></span><span class="line"><span class="cl">    for(Iterator iterator = strList.iterator(); iterator.hasNext(); System.out.println(s))
</span></span><span class="line"><span class="cl">        s = (String)iterator.next();
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>代码很简单，for-each的实现原理其实就是使用了普通的for循环和迭代器。</p>
<h4 id="try-with-resource">try-with-resource</h4>
<p>Java里，对于文件操作IO流、数据库连接等开销非常昂贵的资源，用完之后必须及时通过close方法将其关闭，否则资源会一直处于打开状态，可能会导致内存泄露等问题。</p>
<p>关闭资源的常用方式就是在finally块里是释放，即调用close方法。比如，我们经常会写这样的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String[] args) {
</span></span><span class="line"><span class="cl">    BufferedReader br = null;
</span></span><span class="line"><span class="cl">    try {
</span></span><span class="line"><span class="cl">        String line;
</span></span><span class="line"><span class="cl">        br = new BufferedReader(new FileReader(&#34;d:\\hollischuang.xml&#34;));
</span></span><span class="line"><span class="cl">        while ((line = br.readLine()) != null) {
</span></span><span class="line"><span class="cl">            System.out.println(line);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    } catch (IOException e) {
</span></span><span class="line"><span class="cl">        // handle exception
</span></span><span class="line"><span class="cl">    } finally {
</span></span><span class="line"><span class="cl">        try {
</span></span><span class="line"><span class="cl">            if (br != null) {
</span></span><span class="line"><span class="cl">                br.close();
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        } catch (IOException ex) {
</span></span><span class="line"><span class="cl">            // handle exception
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>从Java 7开始，jdk提供了一种更好的方式关闭资源，使用<code>try-with-resources</code>语句，改写一下上面的代码，效果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String... args) {
</span></span><span class="line"><span class="cl">    try (BufferedReader br = new BufferedReader(new FileReader(&#34;d:\\ hollischuang.xml&#34;))) {
</span></span><span class="line"><span class="cl">        String line;
</span></span><span class="line"><span class="cl">        while ((line = br.readLine()) != null) {
</span></span><span class="line"><span class="cl">            System.out.println(line);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    } catch (IOException e) {
</span></span><span class="line"><span class="cl">        // handle exception
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>看，这简直是一大福音啊，虽然我之前一般使用IOUtils去关闭流，并不会使用在finally中写很多代码的方式，但是这种新的语法糖看上去好像优雅很多呢。</p>
<p>反编译以上代码，看下他的背后原理：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static transient void main(String args[])
</span></span><span class="line"><span class="cl">    {
</span></span><span class="line"><span class="cl">        BufferedReader br;
</span></span><span class="line"><span class="cl">        Throwable throwable;
</span></span><span class="line"><span class="cl">        br = new BufferedReader(new FileReader(&#34;d:\\ hollischuang.xml&#34;));
</span></span><span class="line"><span class="cl">        throwable = null;
</span></span><span class="line"><span class="cl">        String line;
</span></span><span class="line"><span class="cl">        try
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            while((line = br.readLine()) != null)
</span></span><span class="line"><span class="cl">                System.out.println(line);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        catch(Throwable throwable2)
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            throwable = throwable2;
</span></span><span class="line"><span class="cl">            throw throwable2;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        if(br != null)
</span></span><span class="line"><span class="cl">            if(throwable != null)
</span></span><span class="line"><span class="cl">                try
</span></span><span class="line"><span class="cl">                {
</span></span><span class="line"><span class="cl">                    br.close();
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">                catch(Throwable throwable1)
</span></span><span class="line"><span class="cl">                {
</span></span><span class="line"><span class="cl">                    throwable.addSuppressed(throwable1);
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            else
</span></span><span class="line"><span class="cl">                br.close();
</span></span><span class="line"><span class="cl">            break MISSING_BLOCK_LABEL_113;
</span></span><span class="line"><span class="cl">            Exception exception;
</span></span><span class="line"><span class="cl">            exception;
</span></span><span class="line"><span class="cl">            if(br != null)
</span></span><span class="line"><span class="cl">                if(throwable != null)
</span></span><span class="line"><span class="cl">                    try
</span></span><span class="line"><span class="cl">                    {
</span></span><span class="line"><span class="cl">                        br.close();
</span></span><span class="line"><span class="cl">                    }
</span></span><span class="line"><span class="cl">                    catch(Throwable throwable3)
</span></span><span class="line"><span class="cl">                      {
</span></span><span class="line"><span class="cl">                        throwable.addSuppressed(throwable3);
</span></span><span class="line"><span class="cl">                    }
</span></span><span class="line"><span class="cl">                else
</span></span><span class="line"><span class="cl">                    br.close();
</span></span><span class="line"><span class="cl">        throw exception;
</span></span><span class="line"><span class="cl">        IOException ioexception;
</span></span><span class="line"><span class="cl">        ioexception;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>其实背后的原理也很简单，那些我们没有做的关闭资源的操作，编译器都帮我们做了。</p>
<p>所以，再次印证了，语法糖的作用就是方便程序员的使用，但最终还是要转成编译器认识的语言。</p>
<h4 id="lambda表达式">Lambda表达式</h4>
<p>关于lambda表达式，有人可能会有质疑，因为网上有人说他并不是语法糖。其实我想纠正下这个说法。</p>
<p>Labmda表达式不是匿名内部类的语法糖，但是他也是一个语法糖。实现方式其实是依赖了几个JVM底层提供的lambda相关api。</p>
<p>先来看一个简单的lambda表达式。遍历一个list：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String... args) {
</span></span><span class="line"><span class="cl">    List&lt;String&gt; strList = ImmutableList.of(&#34;suxiansheng&#34;, &#34;Java&#34;, &#34;博客：www.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    strList.forEach( s -&gt; { System.out.println(s); } );
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>为啥说他并不是内部类的语法糖呢，前面讲内部类我们说过，内部类在编译之后会有两个class文件，但是，包含lambda表达式的类编译后只有一个文件。</p>
<p>反编译后代码如下:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="k">static</span> <span class="o">/*</span> <span class="n">varargs</span> <span class="o">*/</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="ne">String</span> <span class="o">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ImmutableList</span> <span class="n">strList</span> <span class="o">=</span> <span class="n">ImmutableList</span><span class="o">.</span><span class="n">of</span><span class="p">((</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;Java&#34;</span><span class="p">,</span> <span class="p">(</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;</span><span class="se">\u516c\u4f17\u53f7\uff1a</span><span class="s2">Java&#34;</span><span class="p">,</span> <span class="p">(</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;</span><span class="se">\u535a\u5ba2\uff1a</span><span class="s2">www.jianshu.com/u/94111742c97c&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">strList</span><span class="o">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">Consumer</span><span class="o">&lt;</span><span class="ne">String</span><span class="o">&gt;</span><span class="p">)</span><span class="n">LambdaMetafactory</span><span class="o">.</span><span class="n">metafactory</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">Object</span><span class="p">;)</span><span class="n">V</span><span class="p">,</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">0</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">String</span> <span class="p">),</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">String</span><span class="p">;)</span><span class="n">V</span><span class="p">)());</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">private</span> <span class="k">static</span> <span class="o">/*</span> <span class="n">synthetic</span> <span class="o">*/</span> <span class="n">void</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">0</span><span class="p">(</span><span class="ne">String</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>可以看到，在forEach方法中，其实是调用了<code>java.lang.invoke.LambdaMetafactory#metafactory</code>方法，
该方法的第四个参数implMethod指定了方法实现。可以看到这里其实是调用了一个lambda0方法进行了输出。</p>
<p>再来看一个稍微复杂一点的，先对List进行过滤，然后再输出：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String... args) {
</span></span><span class="line"><span class="cl">    List&lt;String&gt; strList = ImmutableList.of(&#34;suxiansheng&#34;, &#34;Java, &#34;博客：www.jianshu.com/u/94111742c97c&#34;);
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    List HollisList = strList.stream().filter(string -&gt; string.contains(&#34;Java&#34;)).collect(Collectors.toList());
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    HollisList.forEach( s -&gt; { System.out.println(s); } );
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>反编译后代码如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="k">static</span> <span class="o">/*</span> <span class="n">varargs</span> <span class="o">*/</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="ne">String</span> <span class="o">...</span> <span class="n">args</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ImmutableList</span> <span class="n">strList</span> <span class="o">=</span> <span class="n">ImmutableList</span><span class="o">.</span><span class="n">of</span><span class="p">((</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;Java&#34;</span><span class="p">,</span> <span class="p">(</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;</span><span class="se">\u516c\u4f17\u53f7\uff1a</span><span class="s2">Java&#34;</span><span class="p">,</span> <span class="p">(</span><span class="ne">Object</span><span class="p">)</span><span class="s2">&#34;</span><span class="se">\u535a\u5ba2\uff1a</span><span class="s2">www.jianshu.com/u/94111742c97c&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">List</span><span class="o">&lt;</span><span class="ne">Object</span><span class="o">&gt;</span> <span class="n">HollisList</span> <span class="o">=</span> <span class="n">strList</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span><span class="o">.</span><span class="n">filter</span><span class="p">((</span><span class="n">Predicate</span><span class="o">&lt;</span><span class="ne">String</span><span class="o">&gt;</span><span class="p">)</span><span class="n">LambdaMetafactory</span><span class="o">.</span><span class="n">metafactory</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">Object</span><span class="p">;)</span><span class="n">Z</span><span class="p">,</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">0</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">String</span> <span class="p">),</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">String</span><span class="p">;)</span><span class="n">Z</span><span class="p">)())</span><span class="o">.</span><span class="n">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="o">.</span><span class="n">toList</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="n">HollisList</span><span class="o">.</span><span class="n">forEach</span><span class="p">((</span><span class="n">Consumer</span><span class="o">&lt;</span><span class="ne">Object</span><span class="o">&gt;</span><span class="p">)</span><span class="n">LambdaMetafactory</span><span class="o">.</span><span class="n">metafactory</span><span class="p">(</span><span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="n">null</span><span class="p">,</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">Object</span><span class="p">;)</span><span class="n">V</span><span class="p">,</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">1</span><span class="p">(</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">Object</span> <span class="p">),</span> <span class="p">(</span><span class="n">Ljava</span><span class="o">/</span><span class="n">lang</span><span class="o">/</span><span class="ne">Object</span><span class="p">;)</span><span class="n">V</span><span class="p">)());</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">private</span> <span class="k">static</span> <span class="o">/*</span> <span class="n">synthetic</span> <span class="o">*/</span> <span class="n">void</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">1</span><span class="p">(</span><span class="ne">Object</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">private</span> <span class="k">static</span> <span class="o">/*</span> <span class="n">synthetic</span> <span class="o">*/</span> <span class="n">boolean</span> <span class="n">lambda</span><span class="o">$</span><span class="n">main</span><span class="o">$</span><span class="mi">0</span><span class="p">(</span><span class="ne">String</span> <span class="n">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">string</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&#34;Hollis&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>两个lambda表达式分别调用了lambda1和lambda0两个方法。</p>
<p>所以，lambda表达式的实现其实是依赖了一些底层的api，在编译阶段，编译器会把lambda表达式进行解糖，转换成调用内部api的方式。</p>
<h3 id="可能遇到的坑">可能遇到的坑</h3>
<h4 id="泛型当泛型遇到重载">泛型——当泛型遇到重载</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public class GenericTypes {
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public static void method(List&lt;String&gt; list) {  
</span></span><span class="line"><span class="cl">        System.out.println(&#34;invoke method(List&lt;String&gt; list)&#34;);  
</span></span><span class="line"><span class="cl">    }  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    public static void method(List&lt;Integer&gt; list) {  
</span></span><span class="line"><span class="cl">        System.out.println(&#34;invoke method(List&lt;Integer&gt; list)&#34;);  
</span></span><span class="line"><span class="cl">    }  
</span></span><span class="line"><span class="cl">} 
</span></span></code></pre></div><p>上面这段代码，有两个重载的函数，因为他们的参数类型不同，一个是List另一个是List，
但是，这段代码是编译通不过的。因为我们前面讲过，参数List和List编译之后都被擦除了，变成了一样的原生类型List，擦除动作导致这两个方法的特征签名变得一模一样。</p>
<h4 id="泛型当泛型遇到catch">泛型——当泛型遇到catch</h4>
<p>泛型的类型参数不能用在Java异常处理的catch语句中。因为异常处理是由JVM在运行时刻来进行的。由于类型信息被擦除，JVM是无法区分两个异常类型MyException<String>和MyException<Integer>的</p>
<p>泛型——当泛型内包含静态变量</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">public</span> <span class="k">class</span> <span class="n">StaticTest</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="ne">String</span><span class="p">[]</span> <span class="n">args</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="n">GT</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">gti</span> <span class="o">=</span> <span class="n">new</span> <span class="n">GT</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">gti</span><span class="o">.</span><span class="k">var</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">GT</span><span class="o">&lt;</span><span class="ne">String</span><span class="o">&gt;</span> <span class="n">gts</span> <span class="o">=</span> <span class="n">new</span> <span class="n">GT</span><span class="o">&lt;</span><span class="ne">String</span><span class="o">&gt;</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">gts</span><span class="o">.</span><span class="k">var</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">System</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">println</span><span class="p">(</span><span class="n">gti</span><span class="o">.</span><span class="k">var</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="n">GT</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="k">static</span> <span class="ne">int</span> <span class="k">var</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">public</span> <span class="n">void</span> <span class="n">nothing</span><span class="p">(</span><span class="n">T</span> <span class="n">x</span><span class="p">){}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上代码输出结果为：2！由于经过类型擦除，所有的泛型类实例都关联到同一份字节码上，泛型类的所有静态变量是共享的。</p>
<h4 id="自动装箱与拆箱对象相等比较">自动装箱与拆箱——对象相等比较</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">public static void main(String[] args) {
</span></span><span class="line"><span class="cl">    Integer a = 1000;
</span></span><span class="line"><span class="cl">    Integer b = 1000;
</span></span><span class="line"><span class="cl">    Integer c = 100;
</span></span><span class="line"><span class="cl">    Integer d = 100;
</span></span><span class="line"><span class="cl">    System.out.println(&#34;a == b is &#34; + (a == b));
</span></span><span class="line"><span class="cl">    System.out.println((&#34;c == d is &#34; + (c == d)));
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>输出结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">a == b is false
</span></span><span class="line"><span class="cl">c == d is true
</span></span></code></pre></div><p>在Java 5中，在Integer的操作上引入了一个新功能来节省内存和提高性能。整型对象通过使用相同的对象引用实现了缓存和重用。</p>
<blockquote>
<p>适用于整数值区间<code>-128 至 +127</code>。只适用于自动装箱。使用构造函数创建对象不适用。</p>
</blockquote>
<h4 id="增强for循环">增强for循环</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">for (Student stu : students) {    
</span></span><span class="line"><span class="cl">    if (stu.getId() == 2)     
</span></span><span class="line"><span class="cl">        students.remove(stu);    
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>会抛出<code>ConcurrentModificationException</code>异常。</p>
<p>Iterator是工作在一个独立的线程中，并且拥有一个 mutex 锁。
Iterator被创建之后会建立一个指向原来对象的单链索引表，当原来的对象数量发生变化时，这个索引表的内容不会同步改变，所以当索引指针往后移动的时候就找不到要迭代的对象，
所以按照 <code>fail-fast</code> 原则 Iterator 会马上抛出<code>java.util.ConcurrentModificationException</code>异常。</p>
<p>所以 Iterator 在工作的时候是不允许被迭代的对象被改变的。但你可以使用 Iterator 本身的方法remove()来删除对象，<code>Iterator.remove()</code> 方法会在删除当前迭代对象的同时维护索引的一致性。</p>
<h3 id="总结">总结</h3>
<ul>
<li>前面介绍了12种Java中常用的语法糖。所谓语法糖就是提供给开发人员便于开发的一种语法而已。</li>
<li>但是这种语法只有开发人员认识。要想被执行，需要进行解糖，即转成JVM认识的语法。</li>
<li>当我们把语法糖解糖之后，你就会发现其实我们日常使用的这些方便的语法，其实都是一些其他更简单的语法构成的。</li>
<li>有了这些语法糖，我们在日常开发的时候可以大大提升效率，但是同时也要避免过渡使用。使用之前最好了解下原理，避免掉坑。</li>
</ul>
</div>
                    <div id="post_footer" class="post_footer">
                        <div class="meta">
                            <div id="post_footer_info" class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                        
                                        <a href="https://whiteppure.github.io/iblog/tags/java/">Java</a>
                                        
                                        <a href="https://whiteppure.github.io/iblog/tags/%E8%BD%AC%E8%BD%BD/">转载</a>
                                        
                                    
                                    
                                      <span id="busuanzi_container_page_pv">
                                          阅读量<span id="busuanzi_value_page_pv"></span>次
                                      </span>
                                    
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                
                
                
<div id="doc_comments" class="doc_comments">
    <div class="comments_block_title">发表评论</div>
    <div id="vcomments"></div>
</div>

<link rel="stylesheet" href="https://whiteppure.github.io/iblog/css/comments.css" />

<script src='//unpkg.com/valine/dist/Valine.min.js'></script>

<script type="text/javascript">
    new Valine({
        el: '#vcomments',
        appId: 'pRSrjsfbN6L1DUxgfqJWOMYP-gzGzoHsz',
        appKey: 'VPWpnDPGDM8Xhdlh5OvHOpak',
        placeholder: '说点什么吧...',
        visitor: 'true',
        
        emojiCDN: '//i0.hdslb.com/bfs/emote/',
        
        emojiMaps: {
            "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
            "tv_亲亲": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
            "tv_偷笑": "bb690d4107620f1c15cff29509db529a73aee261.png",
            "tv_再见": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
            "tv_冷漠": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
            "tv_发怒": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
            "tv_发财": "34db290afd2963723c6eb3c4560667db7253a21a.png",
            "tv_可爱": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
            "tv_吐血": "09dd16a7aa59b77baa1155d47484409624470c77.png",
            "tv_呆": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
            "tv_呕吐": "9f996894a39e282ccf5e66856af49483f81870f3.png",
            "tv_困": "241ee304e44c0af029adceb294399391e4737ef2.png",
            "tv_坏笑": "1f0b87f731a671079842116e0991c91c2c88645a.png",
            "tv_大佬": "093c1e2c490161aca397afc45573c877cdead616.png",
            "tv_大哭": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
            "tv_委屈": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
            "tv_害羞": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
            "tv_尴尬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
            "tv_微笑": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
            "tv_思考": "90cf159733e558137ed20aa04d09964436f618a1.png",
            "tv_惊吓": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
            "tv_打脸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",
            "tv_抓狂": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",
            "tv_抠鼻": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",
            "tv_斜眼笑": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",
            "tv_无奈": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",
            "tv_晕": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",
            "tv_流汗": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",
            "tv_流泪": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",
            "tv_流鼻血": "c32d39db2737f89b904ca32700d140a9241b0767.png",
            "tv_点赞": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",
            "tv_生气": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",
            "tv_生病": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",
            "tv_疑问": "0793d949b18d7be716078349c202c15ff166f314.png",
            "tv_白眼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",
            "tv_皱眉": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",
            "tv_目瞪口呆": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",
            "tv_睡着": "8b196675b53af58264f383c50ad0945048290b33.png",
            "tv_笑哭": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",
            "tv_腼腆": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",
            "tv_色": "61822c7e9aae5da76475e7892534545336b23a6f.png",
            "tv_调侃": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",
            "tv_调皮": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",
            "tv_鄙视": "6e72339f346a692a495b123174b49e4e8e781303.png",
            "tv_闭嘴": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",
            "tv_难过": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",
            "tv_馋": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",
            "tv_鬼脸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",
            "tv_黑人问号": "45821a01f51bc867da9edbaa2e070410819a95b2.png",
            "tv_鼓掌": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"
        }
    })
</script>

                
            </div>
        </div>
    </div>
    
<a id="search-btn" style="display: inline-block;" href="javascript:void(0);">
    <span class="ri-search-line"></span>
</a>
<div id="fastSearch">
    <input id="searchInput" tabindex="0" autocomplete="off">
    <ul id="searchResults"></ul>
</div>
<div class="side_nav">
    
    <a id="top_to_back" href="#" class="top_to_back">
        <svg t="1688614744062" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2152" width="16" height="16"><path d="M966.4 323.2c-9.6-9.6-25.6-9.6-35.2 0l-416 416-425.6-416c-9.6-9.6-25.6-9.6-35.2 0-9.6 9.6-9.6 25.6 0 35.2l441.6 432c9.6 9.6 25.6 9.6 35.2 0l435.2-432C976 345.6 976 332.8 966.4 323.2z" p-id="2153" fill="#424242"></path></svg>    </a>
    
    <div>
        <a id="content_display" class="content_display">
            <svg t="1688606941910" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="57753" width="18" height="18"><path d="M192 448c10.9 0 21.8-4.2 30.2-12.5L497 160.8c5.4-5.4 11.8-6.2 15.1-6.2 3.3 0 9.6 0.8 15.1 6.2l274.7 274.7c16.7 16.7 43.7 16.7 60.3 0 16.7-16.7 16.7-43.7 0-60.3L587.4 100.4c-41.6-41.6-109.3-41.6-150.9 0L161.8 375.2c-16.7 16.7-16.7 43.7 0 60.3 8.4 8.3 19.3 12.5 30.2 12.5zM801.8 588.5L527.1 863.2c-5.4 5.4-11.8 6.2-15.1 6.2-3.3 0-9.7-0.8-15.1-6.2L222.2 588.5c-16.7-16.7-43.7-16.7-60.3 0-16.7 16.7-16.7 43.7 0 60.3l274.8 274.8c20.8 20.8 48.1 31.2 75.4 31.2 27.3 0 54.6-10.4 75.4-31.2l274.7-274.8c16.7-16.7 16.7-43.7 0-60.3-16.7-16.7-43.7-16.7-60.4 0z" fill="#424242" p-id="57754"></path></svg>
        </a>
        <a id="content_hidden" class="content_hidden">
            <svg t="1688603143752" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15592" width="18" height="18"><path d="M479.004101 645.938677L165.25229 958.480465a37.510709 37.510709 0 0 0 0 54.059551 36.47863 36.47863 0 0 0 53.063061 0l293.679668-292.576411 293.715256 292.576411a36.443042 36.443042 0 0 0 53.063061 0 37.510709 37.510709 0 0 0 0-54.059551l-313.751811-312.541788c-21.210989-22.349834-36.514219-24.698702-66.017424 0z m66.053013-267.877709l312.577377-312.541789a37.510709 37.510709 0 0 0 0-54.059551 36.443042 36.443042 0 0 0-53.063061 0l-292.505234 292.576411L219.560963 11.459628a36.47863 36.47863 0 0 0-53.063061 0 37.510709 37.510709 0 0 0 0 54.059551l312.577377 312.541789a46.58588 46.58588 0 0 0 65.981835-0.035589z" p-id="15593" fill="#424242"></path></svg>
        </a>
    </div>
    
    <a id="back_to_top" href="#" class="back_to_top">
        <svg t="1688628374733" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3166" width="16" height="16"><path d="M966.4 668.8l-435.2-432c-9.6-9.6-25.6-9.6-35.2 0l-441.6 432c-9.6 9.6-9.6 25.6 0 35.2 9.6 9.6 25.6 9.6 35.2 0l425.6-416 416 416c9.6 9.6 25.6 9.6 35.2 0S976 678.4 966.4 668.8z" p-id="3167" fill="#424242"></path></svg>
    </a>
</div>
    <footer class="footer">
    <div id="footer_powered_by" class="powered_by">
        <a href="https://varkai.com">Designed by VarKai,</a>
        <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
    </div>

    <div id="footer_slogan" class="footer_slogan">
        <span>from 2021</span>
    </div>
</footer>
    <script src="https://whiteppure.github.io/iblog/js/jquery-3.5.1.min.js"></script>
<link href="https://whiteppure.github.io/iblog/css/fancybox.min.css" rel="stylesheet">
<script src="https://whiteppure.github.io/iblog/js/fancybox.min.js"></script>
<script src="https://whiteppure.github.io/iblog/js/darkmode.js"></script>
<script src="https://whiteppure.github.io/iblog/js/zozo.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://whiteppure.github.io/iblog/js/busuanzi_2.3_busuanzi.pure.mini.js"></script>
<script src="https://whiteppure.github.io/iblog/js/html2canvas.js"></script>
<script src="https://whiteppure.github.io/iblog/js/utils.js"></script>
<script src="https://whiteppure.github.io/iblog/js/html2md.js"></script>
<script src="https://whiteppure.github.io/iblog/js/htmlexport.js"></script>

<script src="https://whiteppure.github.io/iblog/js/fastsearch.js"></script>
<script src="https://whiteppure.github.io/iblog/js/fuse.js"></script>
































</body>

</html>