---
title: "Javaæ³›å‹"
date: 2024-07-15
draft: false
tags: ["Java", "JavaåŸºç¡€"]
slug: "rookie-generics"
---

## æ¦‚è§ˆ
åœ¨Javaä¸­ï¼Œæ³›å‹æ˜¯ä¸€ç§å¼ºå¤§çš„ç¼–ç¨‹ç‰¹æ€§ï¼Œå…è®¸ç±»ã€æ¥å£å’Œæ–¹æ³•åœ¨å®šä¹‰æ—¶å£°æ˜ä¸€ç§å‚æ•°åŒ–ç±»å‹ï¼Œè€Œåœ¨ä½¿ç”¨æ—¶å¯ä»¥æŒ‡å®šå…·ä½“çš„ç±»å‹å‚æ•°ã€‚æ³›å‹çš„ä¸»è¦ç›®çš„æ˜¯æé«˜ä»£ç çš„é‡ç”¨æ€§å’Œç±»å‹å®‰å…¨æ€§ã€‚

ç¡®åˆ‡åœ°è¯´ï¼Œæ³›å‹çš„æœ¬è´¨æ˜¯å‚æ•°åŒ–ç±»å‹ï¼Œä¹Ÿå°±æ˜¯åœ¨ä»£ç è®¾è®¡ä¸­ï¼Œå°†ç±»å‹ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’å’Œä½¿ç”¨ã€‚è¿™ç§å‚æ•°åŒ–ç±»å‹çš„è®¾è®¡ä½¿å¾—ä»£ç å¯ä»¥æ›´åŠ çµæ´»å’Œé€šç”¨ï¼Œè€Œä¸éœ€è¦é’ˆå¯¹ä¸åŒçš„æ•°æ®ç±»å‹é‡å¤ç¼–å†™ç±»ä¼¼çš„ä»£ç ã€‚
Javaæ³›å‹ä¹Ÿæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå®Œæˆç±»å‹çš„è½¬æ¢çš„å·¥ä½œï¼Œé¿å…åœ¨è¿è¡Œæ—¶å¼ºåˆ¶ç±»å‹è½¬æ¢è€Œå‡ºç°`ClassCastException`ï¼Œç±»å‹è½¬åŒ–å¼‚å¸¸ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ä½¿ç”¨æ³›å‹é›†åˆï¼š
```text
List<String> names = new ArrayList<>();
names.add("Alice");
names.add("Bob");
// ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ä¸º String
String first = names.get(0);
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ³›å‹åœ¨Javaä¸­æ˜¯é€šè¿‡ç±»å‹æ“¦é™¤æ¥å®ç°çš„ï¼Œè¿™æ„å‘³ç€æ³›å‹ä¿¡æ¯åªåœ¨ç¼–è¯‘æ—¶å­˜åœ¨ï¼Œè€Œåœ¨è¿è¡Œæ—¶ä¼šè¢«æ“¦é™¤ã€‚
ç”±äºç±»å‹æ“¦é™¤ï¼Œè¿è¡Œæ—¶ä¸ä¼šä¿ç•™æ³›å‹ç±»å‹çš„å…·ä½“ä¿¡æ¯ã€‚æ‰€ä»¥å¯¹äºæ³›å‹ç±»çš„å®ä¾‹ï¼Œæ— æ³•åœ¨è¿è¡Œæ—¶è·å–å…¶å…·ä½“çš„ç±»å‹å‚æ•°ä¿¡æ¯ã€‚

## æ³›å‹ç‰¹ç‚¹
æ³›å‹çš„å¥½å¤„æ˜¯åœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥ç±»å‹å®‰å…¨ï¼Œå¹¶ä¸”æ‰€æœ‰çš„å¼ºåˆ¶è½¬æ¢éƒ½æ˜¯è‡ªåŠ¨å’Œéšå¼çš„ï¼Œæé«˜ä»£ç çš„é‡ç”¨ç‡ã€‚
é€šè¿‡æ³›å‹ï¼Œç¼–è¯‘å™¨èƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹ï¼Œå¹¶ç¡®ä¿ç±»å‹å‚æ•°çš„ä¸€è‡´æ€§ï¼Œä»è€Œé¿å…äº†å› ç±»å‹è½¬æ¢é”™è¯¯è€Œå¯¼è‡´çš„è¿è¡Œæ—¶å¼‚å¸¸ã€‚è¿™ç§ç±»å‹å®‰å…¨æ€§å¤§å¤§æé«˜äº†ä»£ç çš„å¥å£®æ€§å’Œå¯é æ€§ã€‚
```text
List<String> names = new ArrayList<>();
names.add("Alice");
names.add("Bob");
String first = names.get(0); // ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ä¸º String
```
æ³›å‹å…è®¸ç¼–å†™é€šç”¨çš„ä»£ç æ¨¡æ¿ï¼Œé€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ã€‚é€šè¿‡æ³›å‹ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­é‡å¤ä½¿ç”¨åŒä¸€æ®µä»£ç ï¼Œè€Œæ— éœ€ä¸ºæ¯ç§æ•°æ®ç±»å‹éƒ½ç¼–å†™ç›¸ä¼¼çš„ä»£ç é€»è¾‘ï¼Œä»è€Œæé«˜äº†ä»£ç çš„é‡ç”¨æ€§å’Œçµæ´»æ€§ã€‚
```text
// æ³›å‹æ–¹æ³•ï¼Œç”¨äºæ‰“å°ä»»æ„ç±»å‹çš„æ•°ç»„å…ƒç´ 
public static <T> void printArray(T[] arr) {
    for (T elem : arr) {
        System.out.print(elem + " ");
    }
    System.out.println();
}
```
ä½¿ç”¨æ³›å‹å¯ä»¥å‡å°‘æˆ–æ¶ˆé™¤ä»£ç ä¸­çš„ç±»å‹è½¬æ¢ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ã€‚ä¸å†éœ€è¦åœ¨æ¯å¤„ä½¿ç”¨åˆ°é›†åˆæˆ–ç±»æ—¶è¿›è¡Œæ‰‹åŠ¨ç±»å‹è½¬æ¢ï¼Œä»è€Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
```text
Map<String, Integer> map = new HashMap<>();
map.put("one", 1);
map.put("two", 2);

// ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ä¸º Integer
int value = map.get("one");
```

æ³›å‹åœ¨æé«˜ä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œé‡ç”¨æ€§æ–¹é¢æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹å’Œé™åˆ¶ã€‚
ä¾‹å¦‚ï¼ŒJavaæ³›å‹æ˜¯é€šè¿‡ç±»å‹æ“¦é™¤å®ç°çš„ï¼Œè¿™æ„å‘³ç€åœ¨ç¼–è¯‘æ—¶ä¼šå°†æ³›å‹ç±»å‹ä¿¡æ¯æ“¦é™¤æ‰ï¼Œä¾¿äºä¸æ—§ç‰ˆJavaå…¼å®¹ã€‚è¿™å¯¼è‡´åœ¨è¿è¡Œæ—¶æ— æ³•è·å–æ³›å‹ç±»å‹çš„å…·ä½“ä¿¡æ¯ã€‚
```text
List<Integer> intList = new ArrayList<>();
List<String> strList = new ArrayList<>();
System.out.println(intList.getClass() == strList.getClass());  // Output: true
```

## ç±»å‹æ“¦é™¤
Javaä¸­çš„æ³›å‹é€šè¿‡ä¸€ç§ç§°ä¸ºç±»å‹æ“¦é™¤çš„æœºåˆ¶å®ç°ã€‚å£°æ˜äº†æ³›å‹çš„`.java`æºä»£ç ï¼Œåœ¨ç¼–è¯‘ç”Ÿæˆ`.class`æ–‡ä»¶ä¹‹åï¼Œæ³›å‹ç›¸å…³çš„ä¿¡æ¯å°±æ¶ˆå¤±äº†ã€‚
å¯ä»¥è®¤ä¸ºï¼Œæºä»£ç ä¸­æ³›å‹ç›¸å…³çš„ä¿¡æ¯ï¼Œå°±æ˜¯æä¾›ç»™ç¼–è¯‘å™¨ç”¨çš„ï¼Œæ³›å‹ä¿¡æ¯å¯¹Javaç¼–è¯‘å™¨å¯ä»¥è§ï¼Œè€Œå¯¹Javaè™šæ‹Ÿæœºä¸å¯è§ã€‚

æ ¹æ®Java[å®˜æ–¹æ–‡æ¡£](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html)çš„è§£é‡Šï¼Œä¸ºäº†å®ç°æ³›å‹ï¼ŒJavaç¼–è¯‘å™¨åº”ç”¨äº†ä»¥ä¸‹æ­¥éª¤ï¼š
1. **ç±»å‹æ£€æŸ¥**ï¼šå½“ä½ å†™æ³›å‹ä»£ç æ—¶ï¼ŒJavaç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿ä½ ä½¿ç”¨çš„ç±»å‹æ˜¯æ­£ç¡®çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å£°æ˜ä¸€ä¸ª`List<String>`ï¼Œç¼–è¯‘å™¨ä¼šç¡®ä¿ä½ åªèƒ½å‘è¿™ä¸ªåˆ—è¡¨æ·»åŠ å­—ç¬¦ä¸²ï¼›
    ```java
    // æ³›å‹ç›’å­ï¼ˆæ™ºèƒ½åˆ†ç±»ï¼‰
    Box<String> safeBox = new Box<>();
    safeBox.put(123);         // ç¼–è¯‘ç›´æ¥æŠ¥é”™ğŸš«
    String book = safeBox.get(); // ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€å¼ºåˆ¶è½¬æ¢
    ```
3. **ç±»å‹æ“¦é™¤**ï¼šä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œæ‰€æœ‰çš„æ³›å‹ç±»å‹ä¿¡æ¯éƒ½ä¼šè¢«ç§»é™¤ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšâ€œç±»å‹æ“¦é™¤â€ã€‚åœ¨ç±»å‹æ“¦é™¤è¿‡ç¨‹ä¸­ï¼š
    - æ³›å‹ç±»å‹å‚æ•°è¢«æ›¿æ¢ï¼šæ‰€æœ‰çš„æ³›å‹ç±»å‹å‚æ•°ä¼šè¢«æ›¿æ¢ä¸ºå®ƒä»¬çš„ä¸Šç•Œï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šä¸Šç•Œï¼Œå°±æ›¿æ¢ä¸º`Object`ï¼‰ï¼›
   
      | ä»£ç ä¸­çš„æ³›å‹  | æ“¦é™¤å  | æ›¿æ¢è§„åˆ™  |
      |---|---|---|
      | `List<T>`  | `List`  | `T â†’ Object`  |
      | `List<? extends Cat>`  | `List<Cat>`  | `ä¿ç•™æœ€è¿‘çš„çˆ¶ç±»`  |
      | `Map<K,V>`  | `Map`  | K/V â†’ Object  |
    - æ’å…¥å¿…è¦çš„ç±»å‹è½¬æ¢ï¼šåœ¨å¿…è¦çš„åœ°æ–¹æ’å…¥ç±»å‹è½¬æ¢æ¥ä¿æŒç±»å‹å®‰å…¨ï¼›
    ```java
    // ä½ å†™çš„ä»£ç 
    String name = names.get(0);
    
    // ç¼–è¯‘å™¨æš—ä¸­æ·»åŠ çš„ç±»å‹è½¬æ¢
    String name = (String)names.get(0); // è‡ªåŠ¨æ’å…¥ç±»å‹è½¬æ¢
    ```
3. **æ¡¥æ¥æ–¹æ³•**ï¼šå½“æ³›å‹ç±»è¢«ç»§æ‰¿æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå»ºé€ ç‰¹æ®Šé€šé“ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆæ¡¥æ¥æ–¹æ³•æ¥ä¿è¯å­ç±»çš„æ–¹æ³•æ­£ç¡®è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼š
   <br>å‡è®¾æœ‰ä¸€ä¸ªçˆ¶ç±»å’Œä¸€ä¸ªå­ç±»ï¼š
    ```java
    class Parent<T> {
        public T getValue() {
            return null;
        }
    }
    
    class Child extends Parent<String> {
        @Override
        public String getValue() {
            return "child value";
        }
    }
    ```
   ç¼–è¯‘åï¼Œ`Child`ç±»ä¸­ä¼šæœ‰ä¸€ä¸ªæ¡¥æ–¹æ³•ï¼š
    ```java
    class Child extends Parent<String> {
        @Override
        public String getValue() {
            return "child value";
        }
    
        // ç”Ÿæˆçš„æ¡¥æ–¹æ³•
        @Override
        public Object getValue() {
            return getValue(); // è°ƒç”¨å®é™…çš„getValueæ–¹æ³•
        }
    }
    ```

åœ¨ç¼–è¯‘æ—¶ï¼Œæ³›å‹ç±»å‹å‚æ•°ä¼šè¢«æ›¿æ¢ä¸ºå®ƒä»¬çš„ä¸Šé™ã€‚å¦‚æœæ²¡æœ‰æ˜ç¡®çš„ä¸Šé™ï¼Œåˆ™æ›¿æ¢ä¸º`Object`ã€‚æ³›å‹æ“¦é™¤ç¤ºä¾‹ï¼š
```text
// æ³›å‹ç±»
public class Box<T> {
    private T value;

    public void setValue(T value) {
        this.value = value;
    }

    public T getValue() {
        return value;
    }
}

// ä½¿ç”¨æ³›å‹ç±»
Box<String> stringBox = new Box<>();
stringBox.setValue("Hello");
String value = stringBox.getValue();
```
```text
// æ“¦é™¤åçš„ç±»
public class Box {
    private Object value;

    public void setValue(Object value) {
        this.value = value;
    }

    public Object getValue() {
        return value;
    }
}

// ä½¿ç”¨æ“¦é™¤åçš„ç±»
Box stringBox = new Box();
stringBox.setValue("Hello");
String value = (String) stringBox.getValue(); // å¼ºåˆ¶ç±»å‹è½¬æ¢
```
ç”±äºæ³›å‹ç±»å‹åœ¨è¿è¡Œæ—¶è¢«æ“¦é™¤ï¼Œæ— æ³•åœ¨è¿è¡Œæ—¶è·å–æ³›å‹çš„å®é™…ç±»å‹ä¿¡æ¯ã€‚è¿™ä¼šå¯¼è‡´æŸäº›æ“ä½œæ— æ³•è¿›è¡Œã€‚ä¾‹å¦‚ï¼š
```java
public <T> void genericMethod(T t) {
    if (t instanceof T) { // ç¼–è¯‘é”™è¯¯
        // ...
    }
}
```
åœ¨é™æ€æ–¹æ³•æˆ–é™æ€ä¸Šä¸‹æ–‡ä¸­ï¼Œæ— æ³•ç›´æ¥å¼•ç”¨æ³›å‹ç±»çš„ç±»å‹å‚æ•°ã€‚
```java
class GenericClass<T> {
    private T value;

    // é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨æ³›å‹ç±»çš„ç±»å‹å‚æ•°
    // public static void staticMethod(T value) { // ç¼–è¯‘é”™è¯¯
    //     // ...
    // }

    // è§£å†³æ–¹æ³•ï¼šå®šä¹‰é™æ€æ³›å‹æ–¹æ³•
    public static <U> void staticMethod(U value) {
        // ...
    }
}
```
æ— æ³•ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ã€‚
```text
// æ— æ³•ç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„
// List<String>[] stringLists = new ArrayList<String>[10]; // ç¼–è¯‘é”™è¯¯

// è§£å†³æ–¹æ³•ï¼šä½¿ç”¨åŸå§‹ç±»å‹æ•°ç»„å¹¶è¿›è¡Œç±»å‹è½¬æ¢
List<String>[] stringLists = (List<String>[]) new ArrayList[10];
```
æ³›å‹ç±»å‹å‚æ•°ä¸èƒ½æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¦‚`int`ã€`char`ï¼Œåªèƒ½æ˜¯ç±»ç±»å‹ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„è£…ç®±å’Œæ‹†ç®±å¼€é”€ï¼Œä»è€Œå½±å“æ€§èƒ½ã€‚
```text
// ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯
// List<int> intList = new ArrayList<>(); // ç¼–è¯‘é”™è¯¯

// è§£å†³æ–¹æ³•ï¼šä½¿ç”¨åŒ…è£…ç±»
List<Integer> intList = new ArrayList<>();
intList.add(1);
int value = intList.get(0); // éœ€è¦æ‹†ç®±æ“ä½œ
```

## æ³›å‹ä¸åå°„
Javaä¸­çš„æ³›å‹æ˜¯é€šè¿‡ç±»å‹æ“¦é™¤æ¥å®ç°çš„ï¼Œè¿™æ„å‘³ç€æ³›å‹ä¿¡æ¯åªåœ¨ç¼–è¯‘æœŸé—´å­˜åœ¨ï¼Œè€Œåœ¨è¿è¡Œæ—¶åˆ™è¢«æ“¦é™¤ã€‚æ‰€ä»¥åå°„åœ¨è¿è¡Œæ—¶æ— æ³•ç›´æ¥è·å–å…·ä½“çš„æ³›å‹ç±»å‹ä¿¡æ¯ã€‚

ç±»å‹æ“¦é™¤æ˜¯Javaæ³›å‹çš„ä¸€ç§å®ç°æœºåˆ¶ï¼Œç›®çš„æ˜¯ä¿æŒä¸æ—§ç‰ˆæœ¬çš„å…¼å®¹æ€§ã€‚åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæ³›å‹ç±»å‹è¢«æ›¿æ¢ä¸ºå…¶éæ³›å‹ä¸Šé™ï¼Œé€šå¸¸æ˜¯`Object`ç±»ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ’å…¥ç±»å‹è½¬æ¢ã€‚
è¿™æ ·Javaç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè€Œåœ¨è¿è¡Œæ—¶ä¸ä¿ç•™æ³›å‹ç±»å‹ä¿¡æ¯ã€‚

é€šè¿‡åå°„å¯ä»¥ç»•è¿‡Javaæ³›å‹çš„ç±»å‹æ£€æŸ¥ï¼Œè¿™åˆ©ç”¨äº†Javaæ³›å‹çš„ç±»å‹æ“¦é™¤æœºåˆ¶ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œæ³›å‹ç±»å‹è¢«æ“¦é™¤ï¼Œå®é™…æ“ä½œçš„å¯¹è±¡æ˜¯åŸå§‹ç±»å‹`Object`ã€‚
è¿™ä½¿å¾—åœ¨è¿è¡Œæ—¶å¯ä»¥å‘æ³›å‹é›†åˆä¸­æ’å…¥ä¸åŒç±»å‹çš„å…ƒç´ ã€‚ä½†è¿™ç§åšæ³•ä¼šå¯¼è‡´ç±»å‹å®‰å…¨æ€§é—®é¢˜ï¼Œæ‰€ä»¥åœ¨å®é™…å¼€å‘ä¸­åº”è°¨æ…ä½¿ç”¨ã€‚
```java
public static void main(String[] args) throws Exception {
        ArrayList<Integer> list = new ArrayList<Integer>();
        list.add(1);  //è¿™æ ·è°ƒç”¨ add æ–¹æ³•åªèƒ½å­˜å‚¨æ•´å½¢ï¼Œå› ä¸ºæ³›å‹ç±»å‹çš„å®ä¾‹ä¸º Integer
        list.getClass().getMethod("add", Object.class).invoke(list, "string");
        for (int i = 0; i < list.size(); i++)
            System.out.println(list.get(i));// 1 string
}
```

## æ³›å‹ä¸æšä¸¾
åœ¨Javaä¸­æšä¸¾ä¸èƒ½ä½¿ç”¨æ³›å‹ï¼Œå› ä¸ºæšä¸¾å®šä¹‰äº†ä¸€ç»„å›ºå®šçš„å¸¸é‡ï¼Œè¿™äº›å¸¸é‡åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œè€Œæ³›å‹é€šå¸¸ç”¨äºåœ¨è¿è¡Œæ—¶å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚æšä¸¾ç±»å‹çš„è®¾è®¡åˆè¡·æ˜¯å®šä¹‰æœ‰é™ä¸”å›ºå®šçš„å¸¸é‡é›†ï¼Œæ‰€ä»¥ä¸é€‚åˆä¸æ³›å‹ç»“åˆã€‚
å†è€…æšä¸¾ç±»ç»§æ‰¿è‡ª`java.lang.Enum`ï¼Œå¹¶ä¸”`Enum`ç±»çš„è®¾è®¡ä¸æ”¯æŒæ³›å‹å‚æ•°ã€‚Javaçš„æ³›å‹ç³»ç»Ÿä¸»è¦ç”¨äºç±»å’Œæ¥å£çš„å‚æ•°åŒ–ï¼Œè€Œæšä¸¾ç±»å‹æœ¬èº«æ²¡æœ‰ç±»ä¼¼çš„æ‰©å±•èƒ½åŠ›ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œä½ æœ‰ä¸€ä¸ªç›’å­ï¼ˆæšä¸¾ï¼‰ï¼Œé‡Œé¢åªèƒ½æ”¾ç‰¹å®šçš„ç©å…·ï¼ˆå›ºå®šçš„å¸¸é‡ï¼‰ã€‚ä½ åœ¨ç›’å­é‡Œåªèƒ½æ”¾è¿™äº›é¢„å…ˆå®šä¹‰å¥½çš„ç©å…·ï¼Œè¿™ä¸ªç›’å­åœ¨åˆ¶é€ æ—¶å°±å·²ç»å†³å®šäº†é‡Œé¢èƒ½æ”¾å“ªäº›ç©å…·ï¼Œä¸èƒ½åœ¨ä»¥åæ”¹å˜ã€‚
è€Œæ³›å‹å°±åƒæ˜¯ä¸€ä¸ªå¯ä»¥æ”¾å„ç§ä¸åŒç©å…·çš„é­”æ³•ç®±ã€‚ä½ å¯ä»¥åœ¨è¿™ä¸ªç®±å­é‡Œæ”¾ä»»ä½•ç±»å‹çš„ç©å…·ï¼Œæ¯”å¦‚å°æ±½è½¦ã€ç§¯æœ¨ã€å¸ƒå¨ƒå¨ƒç­‰ç­‰ã€‚è¿™ä¸ªç®±å­æ˜¯å…è®¸åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦å†³å®šæ”¾ä»€ä¹ˆç±»å‹çš„ç©å…·çš„ã€‚
å› ä¸ºç›’å­ï¼ˆæšä¸¾ï¼‰å·²ç»å›ºå®šäº†è¦æ”¾çš„ç©å…·ï¼Œè€Œé­”æ³•ç®±ï¼ˆæ³›å‹ï¼‰æ˜¯ä¸ºäº†å¤„ç†ä¸åŒç±»å‹çš„ç©å…·ï¼Œæ‰€ä»¥å®ƒä»¬ä¸èƒ½ç›´æ¥ç»“åˆä½¿ç”¨ã€‚

å°½ç®¡æšä¸¾æœ¬èº«ä¸èƒ½ä½¿ç”¨æ³›å‹ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼é—´æ¥åˆ©ç”¨æ³›å‹æ¥å¤„ç†æšä¸¾ç±»å‹ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªæ³›å‹ç±»ï¼Œå…¶ä¸­æ³›å‹ç±»å‹å‚æ•°æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ã€‚
```java
// å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»ï¼Œå…¶ä¸­ T æ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹
public class EnumProcessor<T extends Enum<T>> {
    private final Class<T> enumType;

    public EnumProcessor(Class<T> enumType) {
        this.enumType = enumType;
    }

    public void printAllValues() {
        for (T constant : enumType.getEnumConstants()) {
            System.out.println(constant);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public enum Day {
    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY;
}

public class Main {
    public static void main(String[] args) {
        EnumProcessor<Day> dayProcessor = new EnumProcessor<>(Day.class);
        dayProcessor.printAllValues();
    }
}
```
ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå…¶ä¸­æ³›å‹ç±»å‹å‚æ•°æ˜¯æšä¸¾ç±»å‹ã€‚è¿™æ ·å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹æ¥å¤„ç†ä¸åŒçš„æšä¸¾ç±»å‹ã€‚
```java
public class EnumUtils {

    // æ³›å‹æ–¹æ³•ï¼Œå¤„ç†ä¸åŒæšä¸¾ç±»å‹
    public static <E extends Enum<E>> void printEnumValues(Class<E> enumClass) {
        for (E enumConstant : enumClass.getEnumConstants()) {
            System.out.println(enumConstant);
        }
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public enum Color {
    RED, GREEN, BLUE;
}

public class Main {
    public static void main(String[] args) {
        // æ‰“å° Color æšä¸¾çš„æ‰€æœ‰å¸¸é‡
        EnumUtils.printEnumValues(Color.class);
    }
}
```

## æ³›å‹ç±»
åœ¨ç±»ä¸Šä½¿ç”¨æ³›å‹ï¼Œä»è€Œä½¿ç±»èƒ½å¤Ÿå¤„ç†å¤šç§æ•°æ®ç±»å‹ï¼Œè€Œæ— éœ€ä¸ºæ¯ç§æ•°æ®ç±»å‹ç¼–å†™å•ç‹¬çš„ç±»ã€‚æ³›å‹ç±»åœ¨å®šä¹‰æ—¶æŒ‡å®šäº†ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å‚æ•°ï¼Œè¿™äº›ç±»å‹å‚æ•°åœ¨ç±»çš„å®ä¾‹åŒ–æ—¶è¢«å…·ä½“çš„ç±»å‹æ‰€æ›¿æ¢ã€‚
å®šä¹‰æ³›å‹ç±»æ—¶ï¼Œç±»å‹å‚æ•°æ”¾åœ¨ç±»ååé¢çš„å°–æ‹¬å·å†…ã€‚ä¾‹å¦‚ï¼ŒTæ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ç±»å‹å‚æ•°åç§°ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æœ‰æ•ˆçš„æ ‡è¯†ç¬¦ã€‚
```java
public class NumberBox<T extends Number> {
    private T number;

    public NumberBox(T number) {
        this.number = number;
    }
}
```
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™æ€æˆå‘˜ä¸èƒ½ä½¿ç”¨æ³›å‹ç±»å‹å‚æ•°ï¼Œå› ä¸ºé™æ€æˆå‘˜åœ¨ç±»åŠ è½½æ—¶å·²ç»å­˜åœ¨ï¼Œè€Œç±»å‹å‚æ•°åœ¨å®ä¾‹åŒ–æ—¶æ‰ç¡®å®šã€‚
```java
public class GenericClass<T> {
    // é™æ€æˆå‘˜ä¸èƒ½ä½¿ç”¨æ³›å‹ç±»çš„ç±»å‹å‚æ•°
    // private static T staticValue; // ç¼–è¯‘é”™è¯¯

    // é™æ€æ–¹æ³•ä¸èƒ½ç›´æ¥ä½¿ç”¨æ³›å‹ç±»çš„ç±»å‹å‚æ•°
    // public static void staticMethod(T value) { // ç¼–è¯‘é”™è¯¯
    //     // ...
    // }

    // å¯ä»¥ä½¿ç”¨æ³›å‹æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜
    public static <U> void staticMethod(U value) {
        System.out.println(value);
    }
}
```
æ³›å‹ç±»ä¸åªæ¥å—ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œå®ƒè¿˜å¯ä»¥æ¥å—å¤šä¸ªç±»å‹å‚æ•°ã€‚
```java
public class Pair<K, V> {
    private K key;
    private V value;

    public Pair(K key, V value) {
        this.key = key;
        this.value = value;
    }

    public K getKey() {
        return key;
    }

    public V getValue() {
        return value;
    }
}
```

é™¤æ­¤ä¹‹å¤–ï¼Œæ³›å‹ç±»å¯ä»¥ç›´æ¥ç»§æ‰¿è‡ªå¦ä¸€ä¸ªæ³›å‹ç±»ã€‚å½“æ³›å‹ç±»ç»§æ‰¿å¦ä¸€ä¸ªæ³›å‹ç±»æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¿ç•™çˆ¶ç±»çš„æ³›å‹ç±»å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰è‡ªå·±çš„æ³›å‹ç±»å‹å‚æ•°ã€‚
```java
// çˆ¶ç±»æ˜¯ä¸€ä¸ªæ³›å‹ç±»
public class Box<T> {
    private T value;

    public Box(T value) {
        this.value = value;
    }

    public T getValue() {
        return value;
    }
}

// å­ç±»ç»§æ‰¿è‡ªæ³›å‹çˆ¶ç±»å¹¶ä¿ç•™ç±»å‹å‚æ•°
public class ChildBox<T> extends Box<T> {
    public ChildBox(T value) {
        super(value);
    }
}
```
å­ç±»ä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰è‡ªå·±çš„æ³›å‹ç±»å‹å‚æ•°ï¼Œä¸çˆ¶ç±»çš„ç±»å‹å‚æ•°å¯ä»¥ä¸åŒã€‚
```java
// çˆ¶ç±»æ˜¯ä¸€ä¸ªæ³›å‹ç±»
public class Box<T> {
    private T value;

    public Box(T value) {
        this.value = value;
    }

    public T getValue() {
        return value;
    }
}

// å­ç±»ç»§æ‰¿è‡ªæ³›å‹çˆ¶ç±»ï¼Œå¹¶é‡æ–°å®šä¹‰ç±»å‹å‚æ•°
public class ChildBox<U> extends Box<U> {
    public ChildBox(U value) {
        super(value);
    }
}
```
å…³äºæ³›å‹ç±»éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€ä¸ªæ³›å‹ç±»å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªæ™®é€šç±»ï¼Œä¸éœ€è¦åœ¨ç»§æ‰¿è¯­æ³•ä¸Šåšç‰¹åˆ«çš„ä¿®æ”¹ã€‚
```java
// çˆ¶ç±»æ˜¯ä¸€ä¸ªæ™®é€šç±»
public class Parent {
    // çœç•¥éƒ¨åˆ†ä»£ç 
}

// å­ç±»æ˜¯ä¸€ä¸ªæ³›å‹ç±»
public class Child<T> extends Parent {
    // çœç•¥éƒ¨åˆ†ä»£ç 
}
```
ä½†æ˜¯æ™®é€šç±»ä¸èƒ½ç»§æ‰¿æ³›å‹ç±»çš„ç±»å‹å‚æ•°ï¼Œå› ä¸ºç±»å‹å‚æ•°åœ¨å®ä¾‹åŒ–æ—¶æ‰è¢«ç¡®å®šï¼Œè€Œæ™®é€šç±»åœ¨ç¼–è¯‘æ—¶å°±è¢«ç¡®å®šäº†ã€‚

åœ¨Javaä¸­ï¼Œä½¿ç”¨æ³›å‹åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¿…é¡»æŒ‡å®šç±»å‹å‚æ•°Tçš„å…·ä½“æ•°æ®ç±»å‹ï¼Œå³åœ¨å°–æ‹¬å·<>ä¸­ä¼ å…¥å…·ä½“çš„ç±»å‹ã€‚
```text
Box<Integer> intBox = new Box<>(); // ä½¿ç”¨ Integer ç±»å‹
intBox.setValue(123);
Integer intValue = intBox.getValue();

Box<String> strBox = new Box<>(); // ä½¿ç”¨ String ç±»å‹
strBox.setValue("Hello");
String strValue = strBox.getValue();
```
å¦‚æœ`<>`ä¸­ä»€ä¹ˆéƒ½ä¸ä¼ å…¥ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šå‘å‡ºè­¦å‘Šï¼Œæç¤ºä½¿ç”¨åŸå§‹ç±»å‹ï¼Œè¿™æ˜¯ä¸æ¨èçš„åšæ³•ã€‚ä½¿ç”¨åŸå§‹ç±»å‹çš„ä¸»è¦é—®é¢˜æ˜¯ç±»å‹å®‰å…¨æ€§é™ä½ï¼Œå®¹æ˜“å¼•å‘`ClassCastException`ç­‰è¿è¡Œæ—¶é”™è¯¯ã€‚
```text
Box rawBox = new Box(); // ä½¿ç”¨åŸå§‹ç±»å‹ï¼ˆä¸æ¨èï¼‰
rawBox.setValue("Hello");
String strValue = (String) rawBox.getValue(); // éœ€è¦å¼ºåˆ¶è½¬æ¢

// ç¼–è¯‘æ—¶ä¼šå‘å‡ºè­¦å‘Šï¼šBox is a raw type. References to generic type Box<T> should be parameterized
```

## æ³›å‹æ¥å£
æ³›å‹é™¤äº†å¯ä»¥å®šä¹‰åœ¨ç±»ä¸Šï¼Œè¿˜å¯ä»¥å®šä¹‰åœ¨æ¥å£ä¸Šã€‚æ³›å‹æ¥å£å…è®¸ä½ å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œå…¶ä¸­çš„æ–¹æ³•æ”¯æŒä½¿ç”¨æ³›å‹ç±»å‹å‚æ•°ã€‚è¿™æ ·å¯ä»¥ä½¿å¾—æ¥å£åœ¨å®ç°æ—¶èƒ½å¤Ÿå¤„ç†å¤šç§ç±»å‹çš„æ•°æ®ï¼Œæé«˜äº†çµæ´»æ€§å’Œä»£ç çš„å¤ç”¨æ€§ã€‚
```java
public interface SomeInterface<T> {
    void doSomething(T item);
}
```
å®ç°æ³›å‹æ¥å£æ—¶å¯ä»¥æŒ‡å®šå…·ä½“çš„ç±»å‹å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¿ç•™æ¥å£å®šä¹‰çš„ç±»å‹å‚æ•°ï¼Œç”šè‡³å¯ä»¥ä¸æŒ‡å®šç±»å‹å‚æ•°ã€‚
```java
public class SomeClass implements SomeInterface<String> {
    @Override
    public void doSomething(String item) {
        System.out.println("Doing something with: " + item);
    }
}
```
```java
public class AnotherClass<T> implements SomeInterface<T> {
    @Override
    public void doSomething(T item) {
        System.out.println("Doing something with: " + item);
    }
}
```
å®ç°æ³›å‹æ¥å£æ—¶æ²¡æœ‰ç¡®å®šç±»å‹å‚æ•°ï¼Œåˆ™é»˜è®¤ä¸º`Object`ã€‚
```java
public class AnotherClass implements SomeInterface {
    @Override
    public void doSomething(Object item) {
        System.out.println("Doing something with: " + item);
    }
}
```


æ³›å‹æ¥å£å¯ä»¥æ‹¥æœ‰é™æ€æˆå‘˜ï¼Œä½†æ˜¯è¿™äº›é™æ€æˆå‘˜ä¸å—ç±»å‹å‚æ•°çš„å½±å“ï¼Œå±äºæ¥å£æœ¬èº«çš„é™æ€æˆå‘˜ã€‚
```java
// å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£
public interface Generator<T> {
    T generate();

    // é™æ€æ–¹æ³•å°è¯•ä½¿ç”¨ç±»å‹å‚æ•° Tï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯
    static void printInfo(T item) {
        System.out.println("Info: " + item);
    }
}

// å®ç°æ³›å‹æ¥å£
public class StringGenerator implements Generator<String> {
    @Override
    public String generate() {
        return "Generated String";
    }
}
```

## æ³›å‹æ–¹æ³•
æ³›å‹æ–¹æ³•æ˜¯Javaä¸­ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå®ƒåœ¨å£°æ˜æ—¶å¯ä»¥ä½¿ç”¨æ³›å‹ç±»å‹å‚æ•°ï¼Œä½¿å¾—æ–¹æ³•åœ¨è°ƒç”¨æ—¶å¯ä»¥æ¥å—ä¸åŒç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¿è¯ç±»å‹å®‰å…¨ã€‚
æ³›å‹æ–¹æ³•æ˜¯åœ¨æ–¹æ³•å£°æ˜ä¸­ä½¿ç”¨äº†æ³›å‹ç±»å‹å‚æ•°çš„æ–¹æ³•ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ³›å‹æ–¹æ³•çš„ç±»å‹å‚æ•°åœ¨æ–¹æ³•è¿”å›ç±»å‹ä¹‹å‰å£°æ˜ã€‚
```java
public class GenericMethodExample {

    // æ³›å‹æ–¹æ³•ç¤ºä¾‹
    public <T> T genericMethod(T data) {
        System.out.println("Received: " + data);
        return data;
    }
}
```
åœ¨Javaä¸­ï¼Œé™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨æ³›å‹ï¼Œå…¶å£°æ˜æ–¹å¼ä¸æ™®é€šæ–¹æ³•ç±»ä¼¼ã€‚
```java
public class GenericMethodExample {

    // æ³›å‹æ–¹æ³•ç¤ºä¾‹ï¼šäº¤æ¢æ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ 
    public static <T> void swap(T[] arr, int i, int j) {
        T temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
}
```
åœ¨é™æ€æˆå‘˜ä¸­ä¸èƒ½ä½¿ç”¨æ³›å‹ç±»å®šä¹‰çš„ç±»å‹å‚æ•°ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†é™æ€æˆå‘˜æ–¹æ³•å®šä¹‰ä¸ºä¸€ä¸ªæ³›å‹æ–¹æ³•ã€‚
```java
public class Test2<T> {

    // é™æ€æ³›å‹æ–¹æ³•ç¤ºä¾‹ï¼šä½¿ç”¨æ³›å‹ç±»å‹å‚æ•° E
    // å‹ç±»å®šä¹‰çš„ç±»å‹å‚æ•° T ä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨
    public static <E> E show(E one) {
        return null;
    }
}
```
å½“ä¸€ä¸ªæ–¹æ³•éœ€è¦å¤„ç†å¤šä¸ªæ³›å‹ç±»å‹å‚æ•°æ—¶ï¼Œå¯ä»¥åœ¨æ–¹æ³•ç­¾åä¸­å£°æ˜å¤šä¸ªç±»å‹å‚æ•°ï¼Œå¹¶åœ¨æ–¹æ³•ä½“å†…ä½¿ç”¨ã€‚
```java
public class MultiGenericMethodExample {

    // æ³›å‹æ–¹æ³•ç¤ºä¾‹ï¼šæ‰“å°ä»»æ„ç±»å‹çš„æ•°ç»„å…ƒç´ 
    public static <T, U> void printArray(T[] arr1, U[] arr2) {
        System.out.print("Array 1 elements: ");
        for (T elem : arr1) {
            System.out.print(elem + " ");
        }
        System.out.println();

        System.out.print("Array 2 elements: ");
        for (U elem : arr2) {
            System.out.print(elem + " ");
        }
        System.out.println();
    }
}
```
éœ€è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ï¼ŒJavaæ³›å‹ç±»ä¸­å®šä¹‰çš„ç±»å‹å‚æ•°ä¸æ³›å‹æ–¹æ³•ä¸­å®šä¹‰çš„ç±»å‹å‚æ•°æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå®ƒä»¬æ²¡æœ‰ç›´æ¥çš„å…³ç³»ã€‚
```java
public class Example<T> {

    // æ³›å‹ç±»ä¸­çš„ç±»å‹å‚æ•° T
    private T field;

    // æ³›å‹æ–¹æ³•ä¸­çš„ç±»å‹å‚æ•° Uï¼ˆä¸æ³›å‹ç±»ä¸­çš„ T æ— å…³ï¼‰
    public <U> void method(U param) {
        System.out.println(param.toString());
    }
}
```
å®ƒä»¬çš„å‘½åå¯ä»¥ä¸åŒï¼Œç”šè‡³å¯ä»¥å…·æœ‰ç›¸åŒçš„åç§°ï¼Œä½†å®ƒä»¬å¹¶ä¸ä¼šç›´æ¥ç›¸äº’å½±å“æˆ–çº¦æŸã€‚ä¸ºäº†é¿å…æ··æ·†ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ³›å‹ç±»ä¸­å­˜åœ¨æ³›å‹æ–¹æ³•ï¼Œé‚£ä¹ˆä¸¤è€…çš„ç±»å‹å‚æ•°æœ€å¥½ä¸è¦åŒåã€‚

## æ³›å‹é€šé…ç¬¦
Javaçš„æ³›å‹æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå³ä½¿ä¸¤ä¸ªç±»å‹å…·æœ‰ç»§æ‰¿å…³ç³»ï¼Œæ¯”å¦‚`Integer`æ˜¯`Number`çš„å­ç±»ï¼Œä½†`ArrayList<Integer>`å¹¶ä¸æ˜¯`ArrayList<Number>`çš„å­ç±»ã€‚
è¿™å¯¼è‡´åœ¨å¤„ç†ä¸åŒæ³›å‹ç±»å‹æ—¶ï¼Œä¸èƒ½ç›´æ¥èµ‹å€¼æˆ–è¿›è¡Œæ“ä½œã€‚
```text
ArrayList<Integer> intList = new ArrayList<>();
ArrayList<Number> numList = intList; // ç¼–è¯‘é”™è¯¯ï¼ŒArrayList<Integer> ä¸æ˜¯ ArrayList<Number> çš„å­ç±»å‹
```
ä½¿ç”¨æ³›å‹é€šé…ç¬¦å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ³›å‹é€šé…ç¬¦æ˜¯ç”¨äºè§£å†³æ³›å‹ä¹‹é—´å¼•ç”¨ä¼ é€’é—®é¢˜çš„ç‰¹æ®Šè¯­æ³•ã€‚
æ³›å‹é€šé…ç¬¦é€šè¿‡å¼•å…¥`?`ã€`? extends T`å’Œ`? super T`è¿™äº›è¯­æ³•ï¼Œè§£å†³äº†æ³›å‹ç±»å‹ä¹‹é—´æ²¡æœ‰ç»§æ‰¿å…³ç³»ã€ä¸èƒ½ç›´æ¥èµ‹å€¼å’Œæ“ä½œä»¥åŠæ— æ³•å¤„ç†ä¸ç¡®å®šå…·ä½“æ³›å‹ç±»å‹ç­‰é—®é¢˜ã€‚

æ³›å‹é€šé…ç¬¦ç”¨æ¥è¡¨ç¤ºæœªçŸ¥ç±»å‹ï¼Œå…è®¸åœ¨æ³›å‹ç±»ã€æ–¹æ³•æˆ–æ¥å£ä¸­ä½¿ç”¨ä¸ç¡®å®šçš„ç±»å‹ã€‚
å®ƒä»¬ä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š`?`ã€`? extends ...`ã€`? super ...`ï¼Œæ¯ç§å½¢å¼é€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚
- `?`é€šé…ç¬¦ï¼šè¡¨ç¤ºä»»æ„ç±»å‹ï¼Œç§°ä¸ºæœªé™å®šé€šé…ç¬¦ã€‚`?`ä»£è¡¨äº†ä»»ä½•ä¸€ç§æ•°æ®ç±»å‹ï¼Œèƒ½ä»£è¡¨ä»»ä½•ä¸€ç§æ•°æ®ç±»å‹çš„åªæœ‰`null`ã€‚`Object`æœ¬èº«ä¹Ÿç®—æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œä½†å´ä¸èƒ½ä»£è¡¨ä»»ä½•ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥`ArrayList<Object>`å’Œ`ArrayList<?>`çš„å«ä¹‰æ˜¯ä¸åŒçš„ï¼Œå‰è€…ç±»å‹æ˜¯`Object`ï¼Œä¹Ÿå°±æ˜¯ç»§æ‰¿æ ‘çš„æœ€é«˜çˆ¶ç±»ï¼Œè€Œåè€…çš„ç±»å‹å®Œå…¨æ˜¯æœªçŸ¥çš„ï¼Œæ³¨æ„ä¸è¦æ··æ·†ã€‚
åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ç”¨ä½œæ³›å‹ç±»å‹çš„å‚æ•°ï¼Œä½†ä¸èƒ½å®ä¾‹åŒ–å…·ä½“çš„æ³›å‹å¯¹è±¡ã€‚
   ```text
   List<?> list = new ArrayList<>();
   // å¯ä»¥æ·»åŠ  nullï¼Œå› ä¸º null æ˜¯ä»»æ„å¼•ç”¨ç±»å‹çš„æˆå‘˜
   list.add(null);
   // ä¸èƒ½æ·»åŠ å…·ä½“çš„å¯¹è±¡ï¼Œå› ä¸ºæ— æ³•ç¡®å®š list çš„å…ƒç´ ç±»å‹
   // list.add("example"); // ç¼–è¯‘é”™è¯¯
   ```
- `? extends ...`é€šé…ç¬¦ï¼š`? extends T`è¡¨ç¤ºæŸç§å…·ä½“ç±»å‹çš„å­ç±»å‹ï¼ˆåŒ…æ‹¬Tè‡ªèº«ï¼‰ï¼Œç§°ä¸ºä¸Šç•Œé€šé…ç¬¦ã€‚ç”¨äºé™åˆ¶æ³›å‹ç±»å‹çš„èŒƒå›´ï¼Œå¯ä»¥ç”¨åœ¨æ–¹æ³•å‚æ•°ã€é›†åˆä¸­çš„æ³›å‹ç±»å‹ç­‰åœ°æ–¹ã€‚
   ```text
   List<? extends Number> numbers = new ArrayList<>();
   // å¯ä»¥æ·»åŠ  null æˆ–ä»»ä½• Number åŠå…¶å­ç±»çš„å¯¹è±¡
   numbers.add(null);
   numbers.add(new Integer(10));
   numbers.add(new Double(3.14));
   // ä¸èƒ½æ·»åŠ å…¶ä»–ç±»å‹çš„å¯¹è±¡ï¼Œä¾‹å¦‚ String
   // numbers.add("example"); // ç¼–è¯‘é”™è¯¯
   ```
- `? super ...`é€šé…ç¬¦ï¼š`? super T`è¡¨ç¤ºæŸç§å…·ä½“ç±»å‹çš„è¶…ç±»å‹ï¼ˆåŒ…æ‹¬Tè‡ªèº«ï¼‰ï¼Œç§°ä¸ºä¸‹ç•Œé€šé…ç¬¦ã€‚ç”¨äºé™åˆ¶æ³›å‹ç±»å‹ä¸ºæŸä¸ªç±»çš„çˆ¶ç±»æˆ–è€…çˆ¶ç±»çš„çˆ¶ç±»ç­‰ã€‚
   ```text
   List<? super Integer> integers = new ArrayList<>();
   // å¯ä»¥æ·»åŠ  Integer æˆ–å…¶å­ç±»çš„å¯¹è±¡
   integers.add(new Integer(10));
   integers.add(new Long(20L)); // Long æ˜¯ Integer çš„çˆ¶ç±»
   // ä¸èƒ½æ·»åŠ  Object ç±»å‹çš„å¯¹è±¡
   // integers.add(new Object()); // ç¼–è¯‘é”™è¯¯
   ```

æœ‰ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼Œå¯èƒ½æ¯”è¾ƒä¸å¥½ç†è§£ã€‚ä½¿ç”¨äº†`ArrayList<? extends Number>`è¿™æ ·çš„é€šé…ç¬¦å£°æ˜æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†æ­¤åˆ—è¡¨è§†ä¸ºä¸€ä¸ªå¯ä»¥å­˜æ”¾`Number`åŠå…¶å­ç±»ï¼Œå¦‚`Integer`ã€`Float`ç­‰å¯¹è±¡çš„é›†åˆã€‚ç„¶è€Œè¿™ç§å£°æ˜æ–¹å¼ä¹Ÿé™åˆ¶äº†ä½ å‘è¿™ä¸ªé›†åˆä¸­æ·»åŠ å…ƒç´ çš„èƒ½åŠ›ã€‚
å…·ä½“æ¥è¯´ï¼Œä½ æ— æ³•å‘ä½¿ç”¨äº†ä¸Šç•Œé€šé…ç¬¦`<? extends Number>`çš„åˆ—è¡¨ä¸­æ·»åŠ ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚
```java
public class GenericType {
    public static void main(String[] args) {  
		ArrayList<? extends Number> list = new ArrayList<>();
		
		list.add(new Integer(1));// ç¼–è¯‘é”™è¯¯
		list.add(new Float(1.0));// ç¼–è¯‘é”™è¯¯
    }  
}
```
`ArrayList<? extends Number>`è¡¨ç¤ºè¿™ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ çš„ç¡®æ˜¯`Number`æˆ–å…¶å­ç±»ï¼Œä½†å…·ä½“æ˜¯å“ªä¸€ç§å­ç±»æ˜¯ä¸ç¡®å®šçš„ã€‚
åœ¨ç¼–è¯‘æ—¶ï¼ŒJavaæ— æ³•ç¡®å®šä½ å°è¯•æ·»åŠ çš„æ˜¯å“ªä¸€ç§å…·ä½“çš„å­ç±»`Integer`è¿˜æ˜¯`Float`ï¼Œå› æ­¤ä¼šé˜»æ­¢è¿™ç§å¯èƒ½ä¼šå¯¼è‡´ç±»å‹ä¸åŒ¹é…çš„æ“ä½œã€‚
æ³›å‹çš„ç›®çš„ä¹‹ä¸€æ˜¯åœ¨ç¼–è¯‘æ—¶æä¾›ç±»å‹å®‰å…¨æ€§æ£€æŸ¥ã€‚ä½¿ç”¨äº†`<? extends Number>`çš„é€šé…ç¬¦åï¼Œç¼–è¯‘å™¨ä¸èƒ½ç¡®ä¿æ·»åŠ çš„å…·ä½“å­ç±»å‹æ˜¯å®‰å…¨çš„ï¼Œå› æ­¤ç¦æ­¢äº†è¿™ç§æ“ä½œã€‚
å¦‚æœä½ éœ€è¦å‘åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨æ²¡æœ‰é€šé…ç¬¦çš„å…·ä½“ç±»å‹æ¥å£°æ˜åˆ—è¡¨ã€‚ä¸Šç•Œç»Ÿé…ç¬¦æœ€å¤§çš„ä½œç”¨å°±æ˜¯ä¸ºäº†æ‹“å±•æ–¹æ³•å½¢å‚ä¸­ç±»å‹å‚æ•°çš„èŒƒå›´ã€‚
```java
public class GenericType {
    public static void main(String[] args) {  
        ArrayList<Number> list = new ArrayList<>();
        
        list.add(new Integer(1)); // æ­£ç¡®ï¼Œå› ä¸ºIntegeræ˜¯Numberçš„å­ç±»
        list.add(new Float(1.0)); // æ­£ç¡®ï¼Œå› ä¸ºFloatæ˜¯Numberçš„å­ç±»
    }  
}
```
æœ‰æ„æ€çš„æ¥äº†ï¼Œä½¿ç”¨`ArrayList<? super Number>`ï¼Œæ·»åŠ `Object`ç±»å‹çš„å¯¹è±¡ç¼–è¯‘æŠ¥é”™ã€‚
```java
public class GenericType {
    public static void main(String[] args) {  
        ArrayList<? super Number> list = new ArrayList<>();
        
        list.add(new Integer(1)); // ç¼–è¯‘æ­£ç¡®ï¼ŒInteger æ˜¯ Number çš„å­ç±»
        list.add(new Float(1.0)); // ç¼–è¯‘æ­£ç¡®ï¼ŒFloat æ˜¯ Number çš„å­ç±»
        list.add(new Object()); // ç¼–è¯‘é”™è¯¯ï¼ŒObject ä¸æ˜¯ Number æˆ–å…¶å­ç±»
    }  
}
```
å…¶åŸå› æ˜¯ï¼Œ`ArrayList<? super Number>`çš„ä¸‹ç•Œæ˜¯`ArrayList<Number>`ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š`Number`ç±»åŠå…¶å­ç±»çš„å¯¹è±¡è‡ªç„¶å¯ä»¥åŠ å…¥`ArrayList<? super Number>`é›†åˆä¸­ã€‚
è€Œ`Number`ç±»çš„çˆ¶ç±»å¯¹è±¡å°±ä¸èƒ½åŠ å…¥`ArrayList<? super Number>`é›†åˆä¸­äº†ï¼Œå› ä¸ºä¸èƒ½ç¡®å®š`ArrayList<? super Number>`é›†åˆçš„æ•°æ®ç±»å‹ã€‚

ä½¿ç”¨`extends`é€šé…ç¬¦,å…è®¸è·å–é›†åˆä¸­çš„å…ƒç´ ï¼Œå› ä¸ºå¯ä»¥ç¡®å®šå…ƒç´ è‡³å°‘æ˜¯æŒ‡å®šç±»å‹çš„å­ç±»ã€‚ç¦æ­¢å‘é›†åˆä¸­æ·»åŠ ä»»ä½•å…ƒç´ ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šå…·ä½“çš„å­ç±»å‹ï¼Œä¸èƒ½ç¡®ä¿ç±»å‹å®‰å…¨æ€§ã€‚
```java
public class ExtendsWildcardExample {
    public static void main(String[] args) {
        List<? extends Number> list = new ArrayList<>();
        
        // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•æ·»åŠ ä»»ä½•å…ƒç´ ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šå…·ä½“çš„å­ç±»å‹
        // list.add(new Integer(1));
        // list.add(new Float(1.0));

        // å¯ä»¥å®‰å…¨åœ°è·å–å…ƒç´ 
        Number num = list.get(0); // å¯ä»¥ç¡®å®šæ˜¯ Number ç±»å‹æˆ–å…¶å­ç±»çš„å¯¹è±¡
        System.out.println("First element: " + num);
    }
}
```
ä½¿ç”¨`super`é€šé…ç¬¦ï¼Œå…è®¸å‘é›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œå› ä¸ºå¯ä»¥ç¡®å®šå…ƒç´ è‡³å°‘æ˜¯æŒ‡å®šç±»å‹çš„çˆ¶ç±»ã€‚ç¦æ­¢å®‰å…¨åœ°ä»é›†åˆä¸­è¯»å–å…ƒç´ ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šå…·ä½“çš„çˆ¶ç±»å‹ï¼Œä¸èƒ½ç¡®ä¿ç±»å‹å®‰å…¨æ€§ã€‚
```java
public class SuperWildcardExample {
    public static void main(String[] args) {
        List<? super Integer> list = new ArrayList<>();
        
        // å…è®¸æ·»åŠ  Integer åŠå…¶å­ç±»çš„å¯¹è±¡
        list.add(new Integer(1));
        list.add(new Integer(2));
        
        // ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•å®‰å…¨åœ°ä»åˆ—è¡¨ä¸­è·å–å…ƒç´ ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ç¡®å®šå…·ä½“çš„çˆ¶ç±»å‹
        // Integer num = list.get(0);
        
        // ç¼–è¯‘é”™è¯¯ï¼šåªèƒ½å­˜æ”¾ Integer åŠå…¶å­ç±»çš„å¯¹è±¡ï¼ŒObject ä¸æ˜¯ Integer çš„å­ç±»
        // list.add(new Object());
    }
}
```

PECSåŸåˆ™ï¼ˆProducer Extends, Consumer Superï¼‰æ˜¯ç†è§£å’Œä½¿ç”¨Javaæ³›å‹é€šé…ç¬¦çš„ä¸€ä¸ªé‡è¦åŸåˆ™ã€‚è¿™ä¸ªåŸåˆ™å¸®åŠ©æˆ‘ä»¬å†³å®šåœ¨ä½¿ç”¨æ³›å‹æ—¶ï¼Œåº”è¯¥ä½¿ç”¨`extends`è¿˜æ˜¯`super`é€šé…ç¬¦ã€‚
å¦‚æœæˆ‘ä»¬ä»é›†åˆä¸­è¯»å–å…ƒç´ å¹¶è¿”å›å®ƒä»¬ï¼Œå³é›†åˆæ˜¯ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨`<? extends T>`ã€‚
```java
public class ProducerExtendsExample {
    public static void main(String[] args) {
        List<Integer> integerList = new ArrayList<>();
        integerList.add(1);
        integerList.add(2);

        List<? extends Number> numberList = integerList;
        Number number = getFirst(numberList);
        System.out.println("First number: " + number);
    }

    public static Number getFirst(List<? extends Number> list) {
        if (list.isEmpty()) {
            return null;
        }
        return list.get(0); // å®‰å…¨åœ°è¯»å–å…ƒç´ 
    }
}
```
å¦‚æœæˆ‘ä»¬å‘é›†åˆä¸­å†™å…¥å…ƒç´ ï¼Œå³é›†åˆæ˜¯æ¶ˆè´¹è€…ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨`<? super T>`ã€‚
```java
public class ConsumerSuperExample {
    public static void main(String[] args) {
        List<Number> numberList = new ArrayList<>();
        
        List<? super Integer> integerList = numberList;
        addNumbers(integerList);
        System.out.println("Number list: " + numberList);
    }

    public static void addNumbers(List<? super Integer> list) {
        list.add(new Integer(3)); // å®‰å…¨åœ°å†™å…¥å…ƒç´ 
        list.add(new Integer(4)); // å®‰å…¨åœ°å†™å…¥å…ƒç´ 
    }
}
```
