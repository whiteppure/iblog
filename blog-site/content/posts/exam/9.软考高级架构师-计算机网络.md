---
title: "软考高级架构师-计算机网络"
date: 2025-08-08
draft: false
tags: ["软考"]
slug: "exam-software-architect-09"
---


考试内容综合选择题为主，分值2-5分，了解即可。

## 通信系统架构
通信系统架构分类：
1. 局域网：局域网通常由计算机、交换机、路由器等设备组成。
局域网的几种典型架构风格：单核心架构，双核心架构，环型架构，层次局域网架构。
2. 广域网：广域网属于多级网络，通常由骨干网、分布网、接入网组成。
在网络规模较小时，可仅由骨干网和接入网组成。广域网的几种典型架构风格：单核心广域网，双核心广域网，环型广域网，半冗余广域网，对等子域广域网，层次子域广域网。
3. 移动通信网：5GS在为移动终端用户UE提供服务时通常需要DN网络，如Internet、IMS、专用网络等互连来为UE提供所需的业务。
从UE通过5GS接入DN的方式来说，存在两种模式，即透明模式和非透明模式。

### 局域网
局域网是指在有限地理范围内将若干计算机通过传输介质互联成的计算机组（即通信网络），通过网络软件实现计算机之间的文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。**局域网是封闭型的。**

局域网专用性非常强，具有比较稳定和规范的拓扑结构。**常见的局域网拓扑结构有星状结构、树状结构、总线结构和环形结构。**

![软考](/posts/annex/images/essays/软考-134.png)

- 星状结构：网络中的每个节点设备都以中心结点为中心，通过连接线与中心节点相连，如果一个结点设备需要传输数据，它首先必须通过中心结点；中心节点是控制中心，**任意两个节点间的通信最多只需两步**；传输速度快、网络结构简单、建网容易、便于控制和管理。
缺点为**可靠性低，网络共享能力差**，并且一旦中心节点出现故障则导致全网瘫痪。
- 树状结构：被称为分级的集中式网络；**网络成本低，结构简单**；在网络中，任意两个节点之间不产生回路，每个链路都支持双向传输，结点扩充方便、灵活，方便寻查链路路径。
缺点为除叶节点及其相连的链路外，**任何一个工作站或链路产生故障都会影响整个网络系统的正常运行**。
- 总线结构：网络是将各个节点设备和一根总线相连；**网络中所有的节点设备都是通过总线进行信息传输的。**
缺点是数据通信必经的总线的负载能力是有限度的，这是由通信媒体本身的物理性能决定的；它的**故障将影响总线上每个结点的通信**。
- 环形结构：网络中各结点通过一条首尾相连的通信链路连接起来，形成一个闭合环形结构网；网络中各节点设备的地位相同，**信息按照固定方向单向流动，两个节点之间仅有一条通路**，系统中无信道选择问题。
但网络**不便于扩充，系统响应延时长，且信息传输效率相对较低，任一结点的故障将导致物理瘫痪**。
- 网状结构：任何节点彼此之间均存在一条通信链路，任何节点故障不会影响其他节点之间的通信（**可靠性高**）。
但**网络布线较为繁琐，且建设成本高，控制方法复杂**。

### 5G技术
5G网络的主要特征：
1. 服务化架构：5G核心网中引入了SBA服务化架构，实现网络功能的灵活定制和按需组合。
2. 网络切片：通过网络切片技术在单个独立的物理网络上切分出多个逻辑网络，从而避免了为每一个服务建设一个专用的物理网络，极大地降低了建网和运维成本。

### 软件定义网络架构
软件定义网络（SoftwareDefinedNetwork，SDN）：一种新型网络创新架构，其核心是将网络设备的**控制面**与**数据面**分离开来，从而实现了网络流量的灵活控制。

- 应用平面：在网络上运行的应用，用户无需关心底层细节就可编程、部署应用。
- 控制平面：包含了SDN控制器，它掌握着全局网络信息，是网络的“大脑”。
- 数据平面：交换机、路由器等物理硬件，单纯负责数据的转发。

### 存储网络架构
存储网络架构分类：
1. 直连式存储（DAS）
2. 网络附加存储（NAS）
3. 存储区域网络（SAN）

SAN和NAS都可以用于集中管理存储，并供多主机（服务器）共享存储。但是，NAS通常是基于以太网，而SAN可使用以太网和光纤通道。
此外，NAS注重易用性、易管理性、可扩展性和更低的总拥有成本（TCO），而SAN则注重高性能和低延迟。

磁盘阵列是将多个物理硬盘驱动器按照特定的规则（RAID级别）组合起来，形成一个或多个逻辑驱动器的技术或设备。操作系统或用户看到的是逻辑驱动器，而不是单个物理硬盘。
所有SAN、NAS、DAS、超融合等存储系统内部都包含磁盘阵列作为基础物理存储池。

RAID级别：定义了数据如何在硬盘间分布和冗余。常见级别：
- Raid0（条块化）：性能最高，并行处理，无冗余，损坏无法恢复。
- Raid1（镜像结构）：可用性、可修复性好，仅有50%利用率。
- Raid0+1（Raid10）：Raid0与Raid1长处的结合，高效也可靠。
- **Raid3（奇偶校验并行传送）：N+1模式，有固定的校验盘，坏一个盘可恢复。**
- **Raid5（分布式奇偶校验的独立磁盘）：N+1模式，无固定的校验盘，坏一个盘可恢复。**
- Raid6（两种存储的奇偶校验）：N+2模式，无固定的校验盘，坏两个盘可恢复。

总结：
- RAID0磁盘利用率为100%，访问速度最快。
- RAID1磁盘利用率为50%，具备纠错功能。
- 现在企业采用RAID0与RAID1结合的方式比较多。
- **RAID5磁盘利用率为（n-1）/n，具备容错功能。N为硬盘个数，硬盘容量不同时，以最小的为准。**

## 组网技术
组网技术（Networking Technology）是指设计、构建、管理和优化计算机网络的一系列方法、协议、设备及架构的统称。
其核心目标是实现设备（如计算机、服务器、物联网终端等）之间的高效、可靠、安全的连接与通信。

### OSI七层模型
| 层次 | 名称     | 主要功能                     | 主要设备及协议                                                                         |
|------|--------|------------------------------|---------------------------------------------------------------------------------|
| 7    | 应用层    | 实现具体的应用功能           | POP3、FTP、HTTP、Telnet、SMTP、DHCP、TFTP、SNMP、DNS                                    |
| 6    | 表示层    | 数据的格式与表达、加密、压缩 |                                                                                 |
| 5    | 会话层    | 建立、管理和终止会话         |                                                                                 |
| 4    | 传输层    | 端到端的连接                 | TCP、UDP                                                                         |
| 3    | **网络层**    | 分组传输和路由选择           | **三层交换机**、**路由器**、ARP、RARP、IP（Internet网络核心采取分组交换）、ICMP、IGMP                     |
| 2    | **数据链路层**  | 传送以帧为单位的信息         | **网桥**、**交换机**（多端口网桥）、**网卡** 、PPTP、L2TP、SLIP、PPP （网络中检测冲突的最长时间决定，以太网帧最小长度为64字节） |
| 1    | **物理层** | 二进制传输                   | **中继器**、**集线器** （多端口中继器）                                                        |

### 交换机
数据在网络中转发通常离不开交换机。交换机的功能包括：**集线功能、中继功能、桥接功能、隔离冲突域功能**等。

交换机基本原理：
- 交换机是一种基于MAC地址识别，能完成封装转发数据包功能的网络设备。
交换机可以“学习”MAC地址，并把其存放在内部地址表中，通过在数据的始发者和目标接收者之间建立临时的交换路径，使数据直接由源地址到达目的地址。

交换机需要实现的功能如下所述：
1. 转发路径学习。根据收到数据中的**源MAC地址**建立该地址同交换机端口的映射写入MAC地址表中。
2. 数据转发。如果交换机根据数据中的目的MAC地址在建立好的MAC地址表中查询到了，就向对应端口进行转发。
3. 数据泛洪。**如果数据中的目的MAC地址不在MAC地址表中，则向所有端口转发**也就是泛洪。广播帧和组播帧向所有端口（不包括源端口）进行转发。
4. 链路地址更新。**MAC地址表会每隔一定时间（如300s）更新一次**。注：交换机初始状态时地址表为空；交换机重启或手动清空时地址表会清空。

## TCP/IP协议簇（重点）
TCP/IP 模型通常被描述为 4 层（有时也细分为 5 层），这比 OSI 的 7 层模型更简洁，更贴近互联网的实际实现：

![软考](/posts/annex/images/essays/软考-135.png)

- POP3:110端口，邮件收取
- SMTP:25端口，邮件发送
- FTP：20数据端口/21控制端口，文件传输协议
- HTTP：80端口，超文本传输协议，网页传输
- DHCP:67端口，IP地址自动分配
- SNMP：161端口，简单网络管理协议
- DNS：53端口，域名解析协议，记录域名与IP的映射关系
- TCP：可靠的传输层协议
- UDP：不可靠的传输层协议
- ICMP：因特网控制协议，PING命令来自该协议
- IGMP:组播协议
- ARP：地址解析协议，IP地址转换为MAC地址
- RARP：反向地址解析协议，MAC地址转IP地址


TCP协议与UDP协议：
- 共同点：基于IP协议的传输层协议，可以端口寻址；
- 不同点：
  1. TCP协议面向连接（连接管理）、三次握手、流量控制、差错校验和重传、IP数据报按序接收（不丢失、不重复）、可靠性强、牺牲通信量、效率低。
  2. UDP协议不可靠、无连接、错误检测功能弱，无拥塞控制、无流量控制，有助于提高传输的高速率性。
     不对无序IP数据报重新排序、不负责重传、不消除重复IP数据报、不对已收到的数据报进行确认、不负责建立或终止连接，这些由UDP进行通信的应用程序进行处理。
- **基于TCP的协议：HTTP（80端口）、FTP（20端口）、Telnet（23端口）、POP3（110端口）、SMTP（25端口）**
- **基于UDP的协议：DNS（53端口）、DHCP（67端口）、TFTP（69端口）、SNMP（161端口）**

### DHCP
DHCP称为动态主机配置协议，它能自动为网络上的设备（客户端）分配必要的IP网络配置参数，使其能够加入网络并进行通信。
在大型网络中，手动为每台设备设置IP地址、子网掩码、默认网关、DNS服务器等信息极其耗时且容易出错（如IP冲突）。
网络管理员可以在DHCP服务器上集中管理和更新配置信息（如更改DNS服务器地址），所有客户端会自动获取更新。

DHCP模式采用CS架构：<br>
![软考](/posts/annex/images/essays/软考-136.png)<br>
- **1个园区网可以有多个DHCP服务器**。
- **1个DHCP服务器可以提供多个网段的IP**。
- **在DHCP服务器上，DHCP服务功能需要主动开启，不是默认开启的**。
- **DHCP无效地址为169.254.X.X和0.0.0.0。**

DHCP分配方式：
1. 固定分配【管理员分配】
2. 动态分配【有效期限的IP地址】
3. 自动分配【无限长的IP地址】

DHCP分配的IP地址不是永久性的，而是有租用期限的。
租期长度由DHCP服务器管理员配置，**租约默认为8天**，当租约过半时，客户机需要向DHCP服务器申请续租；
当租约超过87.5%时，如果仍然没有和当初提供IP的DHCP服务器联系上，则开始联系其他的DHCP服务器。

DHCP自动获取IP工作原理：<br>
![软考](/posts/annex/images/essays/软考-137.png)<br>
- **DHCP发现（DISCOVER）**：客户端首次接入网络或 IP 租期到期时。客户端以 广播形式（目标 IP/MAC 均为全 FF）发送 DHCP Discover 报文。
- **DHCP提供（OFFER）**：服务器收到 Discover 后响应。服务器从地址池中预留一个 IP，以 单播/广播 形式回复 DHCP Offer。
- **DHCP请求（REQUEST）**：客户端选择某个 Offer 后发起。客户端广播 DHCP Request，明确指定所选服务器（通过 Server Identifier 字段）。
- **DHCP确认（Acknowledge，ACK）**：被选中的服务器验证通过后。服务器发送 单播/广播 DHCP ACK，包含 最终生效的 IP 及完整配置。
- **DHCP拒绝（NACK）**：服务器检测到请求非法（如 IP 已分配、客户端 MAC 不匹配）。客户端立即停止使用当前 IP，重新发起 Discover 流程。
- **客户端释放（RELEASE）**：客户端主动断开网络（如关机、手动释放 IP）。服务器提前回收 IP 并释放租约，允许分配给其他设备。
- **客户端拒绝分配IP（Decline）**：客户端检测到分配的 IP 已被占用（如 ARP 冲突）。服务器标记该 IP 为冲突状态，暂停分配，客户端重新发起 Discover 请求新 IP。

### DNS
DNS（Domain Name System，域名系统）是互联网的核心基础设施，充当“互联网的电话簿”，负责将人类可读的域名（如 www.example.com）转换为机器可识别的 IP 地址（如 192.0.2.1）。

> linux系统下DNS文件位置：/etc/resolv.conf
> windows系统下DNS文件位置：C:\Windows\System32\drivers\etc\hosts

主机向本地域名服务器的查询采用递归查询。本地域名服务器向根域名服务器的查询通常采用迭代查询。<br>
![软考](/posts/annex/images/essays/软考-138.png)<br>

- 递归查询：服务器必需回答目标IP与域名的映射关系。
- 迭代查询：服务器收到一次选代查询回复一次结果，这个结果不一定是目标IP与域名的映射关系，也可以是其他DNS服务器的地址。

主机向本地域名服务器的查询采用递归查询。此处，本地域名服务器向根域名服务器的查询采用递归查询。根域名服务器负担重，效率低，故较少采用。<br>
![软考](/posts/annex/images/essays/软考-139.png)<br>

浏览器输入域名时，DNS解析全流程：
- **HOSTS→本地DNS缓存→本地DNS服务器→根域名服务器→顶级域名服务器→权限域名服务器**

主域名服务器接收到域名请求：
- **本地缓存记录→区域记录→转发域名服务器→根域名服务器**

>DNS域名解析功能：
1.将域名→IP地址（正向解析，最常用）：根据域名查询IP地址
2.将IP地址→域名（反向解析，用于日志分析、安全验证）：通过PTR反向记录，通过IP查询域名。

## 网络规划与设计
### 网络构建关键技术
1. SDN技术：
   - 控制平面技术
   - 数据平面技术
   - 转发规则一致性更新技术
2. 高可用技术：
   - 网络部件（设备和线路）
   - 网络连接模型
   - 网络协议及配置
3. **IPv4与IPV6融合组网技术**：
   - 双协议栈：IPv4/IPv6双协议栈机制就是使IPv6网络节点具有一个IPv6协议栈和一个IPv4协议栈，同时支持IPv4和IPv6协议的处理。
   - 隧道技术：为了保持现有IPV4网络的投资成本，以及现有业务提供的持续性，需在现有IPv4网络基础上实现IPv6网的构建。
   在IPV4和IPv6融合组网时通常采用ISATAP隧道、6to4隧道、4over6隧道等。
   - 网络地址翻译技术：网络地址技术将IPv4地址和IPv6地址分别看作内部地址和外部地址，或者相反，以实现地址转换。

### 层次化网络设计
![软考](/posts/annex/images/essays/软考-140.png)<br>
- 核心层：主要是高速数据交换，实现高速数据传输、出口路由，常用冗余机制。
- 汇聚层：网络访问策略控制、数据包处理和过滤、策略路由、广播域定义、寻址。
- 接入层：主要是针对用户端，实现用户接入、计费管理、MAC地址认证、MAC地址过滤、收集用户信息。

### 网络冗余设计
在网络冗余设计中，对于通信线路常见的设计目标主要有两个：一个是**备用路径**，另一个是**负载分担**。
- 备用路径，提高可用性，由路由器、交换机等设备之间的独立备用链路构成，一般情况下备用路径仅仅在主路径失效时投入使用。
设计时主要考虑：（1）备用路径的带宽（2）切换时间（3）非对称（4）自动切换（5）测试
- 负载分担，是对备用路径方式的扩充，通过并行链路提供流量分担（冗余的形式）来提高性能，主要的实现方法是利用两个或多个网络接口和路径来同时传递流量，设计时注意考虑：
  1. 网络中存在备用路径、备用链路时，可以考虑加入负载分担设计
  2. 对于主路径、备用路径都相同的情况，可以实施负载分担的特例一负载均衡
  3. 对于主路径、备用路径不相同的情况，可以采用策略路由机制，让一部分应用的流量分摊到备用路径上

### 高可靠与高可用设计
- 高可靠性：网络可靠性通常是由组成网络的各功能部件稳定提供连续性服务保证的。只要单独提升每个部件的稳定性即可提升整个网络的可靠性。
- 高可用性：网络可用性，通常需要构成网络的各部件相互协同，冗余备份等来提供的。这需要通过复杂的网络连接来保证。
【设备冗余、链路冗余：矩形连接方式与三角形连接方式】

